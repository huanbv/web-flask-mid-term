/*! For license information please see b.js.LICENSE.txt */
(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var e=(...t)=>{};let n=null;var o=()=>(null===n&&(n="undefined"!=typeof window&&void 0!==window.document),n),i=(t,e,n=[])=>{const o=document.createElement(t),i=Object.getOwnPropertyDescriptors(o.__proto__);for(const t in e)"style"===t?o.style.cssText=e[t]:i[t]&&i[t].set||/textContent|innerHTML/.test(t)||"function"==typeof e[t]?o[t]=e[t]:o.setAttribute(t,e[t]);return n.forEach((t=>o.appendChild(t))),o},l=t=>{t.width=1,t.height=1;const e=t.getContext("2d");e&&e.clearRect(0,0,1,1)},r=t=>"object"==typeof t,s=t=>"string"==typeof t,a=()=>Math.random().toString(36).substr(2,9);new Map;var c=t=>t;Math.PI;const d=Math.PI/2,u=d/2;var p=t=>{const e=Math.abs(t)%Math.PI;return e>u&&e<Math.PI-u};const h=(t,e,n)=>n+(t-n)*e,f=()=>m(0,0),m=(t,e)=>({x:t,y:e}),g=t=>m(t.pageX,t.pageY),y=t=>m(t.x,t.y),$=(t,e,n=f())=>{const o=Math.cos(e),i=Math.sin(e),l=t.x-n.x,r=t.y-n.y;return t.x=n.x+o*l-i*r,t.y=n.y+i*l+o*r,t},b=t=>{const e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?f():(t.x/=e,t.y/=e,t)},x=(t,e)=>(t.x=e(t.x),t.y=e(t.y),t),w=(t,e)=>(t.x+=e.x,t.y+=e.y,t),k=(t,e)=>(t.x-=e.x,t.y-=e.y,t),v=(t,e)=>(t.x*=e,t.y*=e,t),C=(t,e=f())=>Math.sqrt(((t,e=f())=>{const n=t.x-e.x,o=t.y-e.y;return n*n+o*o})(t,e)),M=(t,e)=>({width:t,height:e}),L=t=>M(t.width,t.height),S=(t,e)=>M(t,e),D=(t,e,n=c)=>n(t.width)===n(e.width)&&n(t.height)===n(e.height),E=(t,e)=>(t.width=e(t.width),t.height=e(t.height),t),P=(t,e)=>({start:t,end:e}),I=t=>P(y(t.start),y(t.end)),T=(t,e)=>{const n=m(t.start.x-t.end.x,t.start.y-t.end.y),o=b(n),i=v(o,e);return t.start.x+=i.x,t.start.y+=i.y,t.end.x-=i.x,t.end.y-=i.y,t},O=[m(-1,-1),m(-1,1),m(1,1),m(1,-1)],A=(t,e,n,o)=>({x:t,y:e,width:n,height:o}),R=t=>A(t.x,t.y,t.width,t.height),W=()=>A(0,0,0,0),B=t=>A(0,0,t.width,t.height),N=(...t)=>{const e=Array.isArray(t[0])?t[0]:t;let n=e[0].x,o=e[0].x,i=e[0].y,l=e[0].y;return e.forEach((t=>{n=Math.min(n,t.x),o=Math.max(o,t.x),i=Math.min(i,t.y),l=Math.max(l,t.y)})),A(n,i,o-n,l-i)},z=(t,e,n,o)=>A(t,e,n,o),F=t=>m(t.x+.5*t.width,t.y+.5*t.height),G=(t,e,n=c)=>n(t.x)===n(e.x)&&n(t.y)===n(e.y)&&n(t.width)===n(e.width)&&n(t.height)===n(e.height),H=t=>((t,e)=>t/e)(t.width,t.height),_=(t,e,n,o,i)=>(t.x=e,t.y=n,t.width=o,t.height=i,t),j=(t,e)=>(t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t),X=(t,e,n)=>(n||(n=F(t)),Y(t).map((t=>$(t,e,n)))),V=(t,e=H(t),n=f())=>{if(0===t.width||0===t.height)return W();let o=t.width,i=o/e;return i>t.height&&(i=t.height,o=i*e),A(n.x+.5*(t.width-o),n.y+.5*(t.height-i),o,i)},Y=t=>[m(t.x,t.y),m(t.x+t.width,t.y),m(t.x+t.width,t.y+t.height),m(t.x,t.y+t.height)],K=(t,e)=>{if(t)return t.x=e(t.x),t.y=e(t.y),t.width=e(t.width),t.height=e(t.height),t},q=(t,e,n=F(t))=>Y(t).map(((t,o)=>{const i=O[o];return m(h(t.x,1+i.x*e.x,n.x),h(t.y,1+i.y*e.y,n.y))})),Z=t=>{const e=t.map(y),n=e[0],o=e[e.length-1];n.x==o.x&&n.y==o.y||e.push(n);let i,l,r,s=0,a=0,c=0,d=e.length;for(let t=0,o=d-1;t<d;o=t++)i=e[t],l=e[o],r=(i.y-n.y)*(l.x-n.x)-(l.y-n.y)*(i.x-n.x),s+=r,a+=(i.x+l.x-2*n.x)*r,c+=(i.y+l.y-2*n.y)*r;return r=3*s,m(a/r+n.x,c/r+n.y)},U=(t,e)=>J(t.start,t.end,e.start,e.end),J=(t,e,n,o)=>{const i=((o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x))/((o.y-n.y)*(e.x-t.x)-(o.x-n.x)*(e.y-t.y)),l=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/((o.y-n.y)*(e.x-t.x)-(o.x-n.x)*(e.y-t.y));if(i>=0&&i<=1&&l>=0&&l<=1)return m(t.x+i*(e.x-t.x),t.y+i*(e.y-t.y))},Q=(t,e)=>{let n,o,i,l,r,s,a,c,d,u;const p=e.length;for(n=0;n<p;n++)if(o=e[n],i=e[n+1>p-1?0:n+1],l=o.x-t.x,r=o.y-t.y,s=i.x-t.x,a=i.y-t.y,c=l-s,d=r-a,u=c*r-d*l,u<-1e-5)return!1;return!0},tt=t=>{const e=[];for(let n=0;n<t.length;n++){let o=n+1;o===t.length&&(o=0),e.push(P(y(t[n]),y(t[o])))}return e};let et=null;var nt=t=>o()?RegExp(t).test(window.navigator.userAgent):void 0;let ot=null;Error;let it=null;let lt=null;var rt=()=>(null===lt&&(lt=o()&&(nt(/iPhone|iPad|iPod/)||(null===it&&(it=o()&&/^mac/i.test(navigator.platform)),it&&navigator.maxTouchPoints>=1))),lt),st=t=>"number"==typeof t,at=(t,e)=>t.hasOwnProperty(e),ct=t=>"function"==typeof t,dt=t=>Array.isArray(t),ut=t=>`rgba(${Math.round(255*t[0])}, ${Math.round(255*t[1])}, ${Math.round(255*t[2])}, ${st(t[3])?t[3]:1})`;new Map;const pt=(t,n=e)=>{if(t.backgroundImage){if(/canvas/.test(t.backgroundImage.nodeName))return t.isComplete=!0,t.isError=!1,t.isLoading=!1,n(t.isError,t),t;if(t.isComplete)return n(t.isError,t),t;if(t.isLoading)return t;t.isComplete=!1,t.isError=!1,t.isLoading=!0;const e=e=>{if(t.backgroundSize)return;const n=e.width/e.height,o=t.width||e.width,i=o/n;t.width=o,t.height=i,t.aspectRatio=e.width/e.height};((t,e)=>new Promise(((n,o)=>{let i=t,l=!1;const r=()=>{l||(l=!0,ct(e)&&Promise.resolve().then((()=>e(S(i.naturalWidth,i.naturalHeight)))))};if(i.src||(i=new Image,s(t)&&new URL(t,location.href).origin!==location.origin&&(i.crossOrigin="anonymous"),i.src=s(t)?t:URL.createObjectURL(t)),i.complete)return r(),n(i);ct(e)&&(t=>new Promise(((e,n)=>{let o=!1;!t.parentNode&&(null===et&&(et=et=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),et)&&(o=!0,t.style.cssText="position:absolute;visibility:hidden;pointer-events:none;left:0;top:0;width:0;height:0;",document.body.appendChild(t));const i=()=>{const n=t.naturalWidth,i=t.naturalHeight;n&&i&&(o&&t.parentNode.removeChild(t),clearInterval(l),e({width:n,height:i}))};t.onerror=t=>{clearInterval(l),n(t)};const l=setInterval(i,1);i()})))(i).then(r).catch(o),i.onload=()=>{r(),n(i)},i.onerror=o})))(t.backgroundImage,e).then((e=>{t.backgroundImageElement=e})).catch((e=>{t.isError=e})).finally((()=>{t.isLoading=!1,t.isComplete=!0,n(t.isError,t)}))}return t},ht=t=>at(t,"text"),ft=t=>at(t,"x3"),mt=t=>(at(t,"x")||at(t,"left"))&&at(t,"right")||(at(t,"y")||at(t,"top"))&&at(t,"bottom"),gt=t=>(t=>at(t,"width")&&at(t,"height"))(t)||mt(t),yt=t=>(delete t.left,delete t.right,delete t.top,delete t.bottom,t),$t=t=>(delete t.rotation,t),bt=t=>(t.strokeWidth=t.strokeWidth||1,t.strokeColor=t.strokeColor||[0,0,0],t),xt=t=>(t.backgroundColor=t.backgroundColor?t.backgroundColor:t.strokeWidth||t.backgroundImage?void 0:[0,0,0],t),wt=t=>1.2*t,kt=t=>((t=>{s(t.id)||(t.id=a()),at(t,"rotation")||(t.rotation=0),at(t,"opacity")||(t.opacity=1),at(t,"disableErase")||(t.disableErase=!0)})(t),ht(t)?(t=>{t.fontSize=t.fontSize||16,t.fontFamily=t.fontFamily||"sans-serif",t.fontWeight=t.fontWeight||"normal",t.fontStyle=t.fontStyle||"normal",t.fontVariant=t.fontVariant||"normal",t.lineHeight=st(t.lineHeight)?t.lineHeight:wt,t.color=t.color||[0,0,0],(t=>ht(t)&&!(mt(t)||at(t,"width")))(t)?(t=>{delete t.textAlign,yt(t)})(t):(t=>{t.textAlign=t.textAlign||"left"})(t)})(t):(t=>!ht(t)&&gt(t))(t)?(t=>{t.cornerRadius=t.cornerRadius||0,t.strokeWidth=t.strokeWidth||0,t.strokeColor=t.strokeColor||[0,0,0],xt(t)})(t):(t=>at(t,"points"))(t)?(t=>{bt(t),$t(t),yt(t)})(t):(t=>at(t,"x1")&&!ft(t))(t)?(t=>{bt(t),t.lineStart=t.lineStart||void 0,t.lineEnd=t.lineEnd||void 0,$t(t),yt(t)})(t):(t=>at(t,"rx"))(t)?(t=>{t.strokeWidth=t.strokeWidth||0,t.strokeColor=t.strokeColor||[0,0,0],xt(t)})(t):ft(t)&&(t=>{t.strokeWidth=t.strokeWidth||0,t.strokeColor=t.strokeColor||[0,0,0],xt(t),yt(t)})(t),pt(t),t);function vt(){}function Ct(t){return t()}function Mt(){return Object.create(null)}function Lt(t){t.forEach(Ct)}function St(t){return"function"==typeof t}function Dt(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function Et(t,...e){if(null==t)return vt;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Pt(t,e,n){t.$$.on_destroy.push(Et(e,n))}function It(t,e,n,o){if(t){const i=Tt(t,e,n,o);return t[0](i)}}function Tt(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function Ot(t,e,n,o,i,l,r){const s=function(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|i[o];return t}return e.dirty|i}return e.dirty}(e,o,i,l);if(s){const i=Tt(e,n,o,r);t.p(i,s)}}function At(t){return t&&St(t.destroy)?t.destroy:vt}let Rt="undefined"!=typeof window?t=>requestAnimationFrame(t):vt;const Wt=new Set;function Bt(t){Wt.forEach((e=>{e.c(t)||(Wt.delete(e),e.f())})),0!==Wt.size&&Rt(Bt)}function Nt(t,e){t.appendChild(e)}function zt(t,e,n){t.insertBefore(e,n||null)}function Ft(t){t.parentNode.removeChild(t)}function Gt(t){return document.createElement(t)}function Ht(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _t(t){return document.createTextNode(t)}function jt(){return _t(" ")}function Xt(){return _t("")}function Vt(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function Yt(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function Kt(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function qt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let Zt;function Ut(t){Zt=t}function Jt(){if(!Zt)throw new Error("Function called outside component initialization");return Zt}function Qt(){const t=Jt();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach((e=>{e.call(t,i)}))}}}function te(t){return Jt().$$.context.get(t)}new Set;const ee=[],ne=[],oe=[],ie=[],le=Promise.resolve();let re=!1;function se(t){oe.push(t)}let ae=!1;const ce=new Set;function de(){if(!ae){ae=!0;do{for(let t=0;t<ee.length;t+=1){const e=ee[t];Ut(e),ue(e.$$)}for(Ut(null),ee.length=0;ne.length;)ne.pop()();for(let t=0;t<oe.length;t+=1){const e=oe[t];ce.has(e)||(ce.add(e),e())}oe.length=0}while(ee.length);for(;ie.length;)ie.pop()();re=!1,ae=!1,ce.clear()}}function ue(t){if(null!==t.fragment){t.update(),Lt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(se)}}const pe=new Set;let he;function fe(){he={r:0,c:[],p:he}}function me(){he.r||Lt(he.c),he=he.p}function ge(t,e){t&&t.i&&(pe.delete(t),t.i(e))}function ye(t,e,n,o){if(t&&t.o){if(pe.has(t))return;pe.add(t),he.c.push((()=>{pe.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const $e="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:t.g;function be(t,e){ye(t,1,1,(()=>{e.delete(t.key)}))}function xe(t,e,n,o,i,l,r,s,a,c,d,u){let p=t.length,h=l.length,f=p;const m={};for(;f--;)m[t[f].key]=f;const g=[],y=new Map,$=new Map;for(f=h;f--;){const t=u(i,l,f),s=n(t);let a=r.get(s);a?o&&a.p(t,e):(a=c(s,t),a.c()),y.set(s,g[f]=a),s in m&&$.set(s,Math.abs(f-m[s]))}const b=new Set,x=new Set;function w(t){ge(t,1),t.m(s,d),r.set(t.key,t),d=t.first,h--}for(;p&&h;){const e=g[h-1],n=t[p-1],o=e.key,i=n.key;e===n?(d=e.first,p--,h--):y.has(i)?!r.has(o)||b.has(o)?w(e):x.has(i)?p--:$.get(o)>$.get(i)?(x.add(o),w(e)):(b.add(i),p--):(a(n,r),p--)}for(;p--;){const e=t[p];y.has(e.key)||a(e,r)}for(;h;)w(g[h-1]);return g}function we(t){t&&t.c()}function ke(t,e,n,o){const{fragment:i,on_mount:l,on_destroy:r,after_update:s}=t.$$;i&&i.m(e,n),o||se((()=>{const e=l.map(Ct).filter(St);r?r.push(...e):Lt(e),t.$$.on_mount=[]})),s.forEach(se)}function ve(t,e){const n=t.$$;null!==n.fragment&&(Lt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ce(t,e,n,o,i,l,r=[-1]){const s=Zt;Ut(t);const a=t.$$={fragment:null,ctx:null,props:l,update:vt,not_equal:i,bound:Mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:e.context||[]),callbacks:Mt(),dirty:r,skip_bound:!1};let c=!1;if(a.ctx=n?n(t,e.props||{},((e,n,...o)=>{const l=o.length?o[0]:n;return a.ctx&&i(a.ctx[e],a.ctx[e]=l)&&(!a.skip_bound&&a.bound[e]&&a.bound[e](l),c&&function(t,e){-1===t.$$.dirty[0]&&(ee.push(t),re||(re=!0,le.then(de)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],a.update(),c=!0,Lt(a.before_update),a.fragment=!!o&&o(a.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);a.fragment&&a.fragment.l(t),t.forEach(Ft)}else a.fragment&&a.fragment.c();e.intro&&ge(t.$$.fragment),ke(t,e.target,e.anchor,e.customElement),de()}Ut(s)}class Me{$destroy(){ve(this,1),this.$destroy=vt}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Le=[];function Se(t,e){return{subscribe:De(t,e).subscribe}}function De(t,e=vt){let n;const o=[];function i(e){if(Dt(t,e)&&(t=e,n)){const e=!Le.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),Le.push(n,t)}if(e){for(let t=0;t<Le.length;t+=2)Le[t][0](Le[t+1]);Le.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(l,r=vt){const s=[l,r];return o.push(s),1===o.length&&(n=e(i)||vt),l(t),()=>{const t=o.indexOf(s);-1!==t&&o.splice(t,1),0===o.length&&(n(),n=null)}}}}function Ee(t,e,n){const o=!Array.isArray(t),i=o?[t]:t,l=e.length<2;return Se(n,(t=>{let n=!1;const r=[];let s=0,a=vt;const c=()=>{if(s)return;a();const n=e(o?r[0]:r,t);l?t(n):a=St(n)?n:vt},d=i.map(((t,e)=>Et(t,(t=>{r[e]=t,s&=~(1<<e),n&&c()}),(()=>{s|=1<<e}))));return n=!0,c(),function(){Lt(d),a()}}))}const Pe=t=>({updateValue:t}),Ie=t=>({defaultValue:t}),Te=t=>({store:(e,n)=>Ee(...t(n))}),Oe=t=>({store:(e,n)=>{const[o,i,l=(()=>!1)]=t(n);let r,s=!0;return Ee(o,((t,e)=>{i(t,(t=>{!s&&l(r,t)||(r=t,s=!1,e(t))}))}))}}),Ae=t=>({store:(e,n)=>{const[o,i={}]=t(n);let l=[],r={};const s=t=>o(t,r),a=t=>{(l.length||t.length)&&(l=t,c())},c=()=>{const t=l.map(s);l=t,u(t)};Object.keys(i).forEach((t=>{i[t].subscribe((e=>{r[t]=e,e&&c()}))}));const{subscribe:d,set:u}=De(e);return{set:a,update:t=>a(t(null)),subscribe:d}}});Ie((()=>[]));var Re=(t,e=12)=>parseFloat(t.toFixed(e)),We=(t,e)=>{const n=tt(e),o=f();Y(t).forEach((t=>{w(t,o),Q(t,e)||n.forEach((e=>{const n=Math.atan2(e.start.y-e.end.y,e.start.x-e.end.x),i=1e4*Math.sin(Math.PI-n),l=1e4*Math.cos(Math.PI-n),r=m(t.x+i,t.y+l),s=T(I(e),1e4),a=U(P(t,r),s);a&&w(o,k(y(a),t))}))}));const i=R(t);return w(i,o),!!Y(i).every((t=>Q(t,e)))&&(j(t,i),!0)},Be=(t,e)=>{const n=Y(t),o=tt(e).map((t=>T(t,5))),i=F(t),l=[];n.forEach((t=>{const e=((t,e)=>{const n=m(t.start.x-t.end.x,t.start.y-t.end.y),o=b(n),i=v(o,1e6);return t.end.x+=i.x,t.end.y+=i.y,t})(P(y(i),y(t)));let n=!1;o.map(I).forEach((t=>{const o=U(e,t);o&&!n&&(l.push(o),n=!0)}))}));const r=C(l[0],l[2])<C(l[1],l[3])?[l[0],l[2]]:[l[1],l[3]],s=N(r);return s.width<t.width&&(j(t,s),!0)},Ne=(t,e,n={x:0,y:0})=>{const o=B(t),i=F(o),l=q(o,n,i).map((t=>$(t,e,i))),r=N(l);return l.map((t=>k(t,r)))},ze=(t,e=0,n=H(t))=>{let o,i;if(0!==e){const l=Math.atan2(1,n),r=Math.sign(e)*e,s=r%Math.PI,a=r%d;let c,p;p=s>u&&s<d+u?a>u?r:d-a:a>u?d-a:r,c=Math.min(Math.abs(t.height/Math.sin(l+p)),Math.abs(t.width/Math.cos(l-p))),o=Math.cos(l)*c,i=o/n}else o=t.width,i=o/n,i>t.height&&(i=t.height,o=i*n);return S(o,i)},Fe=(t,e,n)=>Math.max(e,Math.min(t,n));var Ge=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0};let He=null;let _e,je,Xe=null,Ve=null;const Ye=-u,Ke=u,qe=(t,e,n)=>{const o=x(F(t),(t=>Re(t,8))),i=B(e),l=F(i),r=X(i,n,l),s=x((t=>m(.5*t.width,.5*t.height))(N(r)),(t=>Re(t,8))),a=Math.abs(s.x-o.x),c=Math.abs(s.y-o.y);return a<1&&c<1},Ze=(t,e)=>(t.isFormatted||((t=kt(t)).isFormatted=!0),t.isDraft||!mt(t)||t.context&&G(e.context,t.context)||((t=((t,e)=>{if(at(t,"left")&&(t.x=t.left),at(t,"right")){const n=e.width-t.right;at(t,"left")?(t.x=t.left,t.width=Math.max(0,n-t.left)):at(t,"width")&&(t.x=n-t.width)}if(at(t,"top")&&(t.y=t.top),at(t,"bottom")){const n=e.height-t.bottom;at(t,"top")?(t.y=t.top,t.height=Math.max(0,n-t.top)):at(t,"height")&&(t.y=n-t.height)}return t})(t,e.context)).context={...e.context}),t);Te((({size:t})=>[t,t=>t?H(t):void 0])),Ie((()=>0)),Ie((()=>0)),Te((({perspectiveX:t,perspectiveY:e})=>[[t,e],([t,e])=>({x:t,y:e})])),Ie((()=>0)),Pe((t=>(e,n,o)=>{if(e===n)return e;const{loadState:i,size:l,rotationRange:r,cropMinSize:s,cropMaxSize:a,crop:c,perspective:u,cropLimitToImage:p,cropOrigin:h}=t;if(!i||!i.beforeComplete)return e;const f=((t,e,n)=>{const o=ze(e,n,H(t));return D(E(o,Math.round),E(L(t),Math.round))})(c,l,n),m=qe(c,l,n),g=((t,e,n,o,i,l,r,s,a,c)=>{const u=L(a);let p=L(c);r&&(p.width=Math.min(c.width,i.width),p.height=Math.min(c.height,i.height));let h=!1;const f=(e,n)=>{const a=((t,e,n,o={x:0,y:0})=>{const i=B(t),l=F(i),r=X(i,n,l),s=F((t=>(t.x=0,t.y=0,t))(N(r))),a=F(e),c=$(a,-n,s),d=k(c,s),u=x(w(l,d),Re);return z(u.x-.5*e.width,u.y-.5*e.height,e.width,e.height)})(i,o,e,null),c=B(i),d=F(c),m=q(c,l,d),g=k(y(d),Z(m)),b=$(F(a),n,d),v=k(y(d),b);m.forEach((t=>$(t,n,d)));const C=N(m),M=Z(m),L=w(k(k(M,v),C),g),S=z(L.x-.5*a.width,L.y-.5*a.height,a.width,a.height);if(s&&((t,e,n)=>{n=n||F(t),t.x=e*(t.x-n.x)+n.x,t.y=e*(t.y-n.y)+n.y,t.width=e*t.width,t.height=e*t.height})(S,s.width/S.width),r){const t=Ne(i,n,l);Be(S,t)}const D=Re(Math.min(S.width/u.width,S.height/u.height),8),E=Re(Math.max(S.width/p.width,S.height/p.height),8);return(D<1||E>1)&&Re(Math.abs(n-e))===Re(Math.PI/2)&&!h?(h=!0,f(t,t+Math.sign(n-e)*Math.PI)):{rotation:n,crop:K(S,(t=>Re(t,8)))}},m=Math.sign(e)*Math.round(Math.abs(e)/d)*d,g=Fe(e,m+n[0],m+n[1]);return f(t,g)})(n,e,r,c,l,u,p,h,s,a);if(f&&m){const t=ze(l,e,H(g.crop));g.crop.x+=.5*g.crop.width,g.crop.y+=.5*g.crop.height,g.crop.x-=.5*t.width,g.crop.y-=.5*t.height,g.crop.width=t.width,g.crop.height=t.height}return o((()=>{t.crop=K(g.crop,(t=>Re(t,8)))})),g.rotation})),Ie((()=>!1)),Ie((()=>!1)),Te((({flipX:t,flipY:e})=>[[t,e],([t,e])=>({x:t,y:e})])),Oe((({rotation:t})=>[[t],([t],e)=>e(p(t)),(t,e)=>t!==e])),Pe((t=>(e,n=e)=>{const{loadState:o,size:i,cropMinSize:l,cropMaxSize:r,cropLimitToImage:s,rotation:a,perspective:c}=t;if(!e||!o||!o.beforeComplete)return e;const d=((t,e,n,o,i,l,r,s)=>{const a=L(r),c=L(s),d=Re(Math.max(e.width/c.width,e.height/c.height)),u=Re(Math.min(e.width/a.width,e.height/a.height)),p=R(e);if(u<1||d>1){const n=F(t),o=F(e),i=u<1?u:d,l=(o.x+n.x)/2,r=(o.y+n.y)/2,s=p.width/i,a=p.height/i;_(p,l-.5*s,r-.5*a,s,a)}return l?(((t,e,n=0,o=f(),i)=>{if(st(n)&&0!==n||o.x||o.y){const i=H(t),l=Ne(e,n,o),r=ze(e,n,i);if(!(t.width<r.width&&t.height<r.height)){const e=.5*t.width-.5*r.width,n=.5*t.height-.5*r.height;t.width>r.width&&(t.width=r.width,t.x+=e),t.height>r.height&&(t.height=r.height,t.y+=n)}We(t,l),Be(t,l)&&We(t,l)}else{let n=H(t);t.width=Math.min(t.width,e.width),t.height=Math.min(t.height,e.height),t.x=Math.max(t.x,0),t.x+t.width>e.width&&(t.x-=t.x+t.width-e.width),t.y=Math.max(t.y,0),t.y+t.height>e.height&&(t.y-=t.y+t.height-e.height);const o=F(t),l=V(t,n);l.width=Math.max(i.width,l.width),l.height=Math.max(i.height,l.height),l.x=o.x-.5*l.width,l.y=o.y-.5*l.height,j(t,l)}})(p,n,o,i,a),{crop:p}):{crop:p}})(n,e,i,a,c,s,l,r);return K(d.crop,(t=>Re(t,8)))})),Pe((t=>e=>{const{loadState:n,crop:o,size:i,rotation:l}=t,r=(t=>{if(t){if(/:/.test(t)){const[e,n]=t.split(":");return e/n}return parseFloat(t)}})(e);if(r){if(!n||!n.beforeComplete)return r;if(qe(o,i,l)){const n=((t,e)=>{const n=t.width,o=t.height;return p(e)&&(t.width=o,t.height=n),t})(L(i),l);t.crop=K(V(B(n),e),Re)}else{const e={width:o.height*r,height:o.height},n=.5*(o.width-e.width),i=.5*(o.height-e.height);t.crop=K(z(o.x+n,o.y+i,e.width,e.height),Re)}return r}})),Ie((()=>({width:1,height:1}))),Ie((()=>L((()=>{if(!je){const t={android:[14188,14188],ios:[4096,4096],chrome:[16384,16384],firefox:[11180,11180],edge:[16384,16384],ie:[16384,16384]};je=t[_e||(_e=rt()?"ios":(null===He&&(He=nt(/Android/)),He?"android":(null===Xe&&(Xe=nt(/Firefox/)),Xe?"firefox":(null===ot&&(ot=nt(/MSIE|Trident/)),ot?"ie":(null===Ve&&(Ve=nt(/Edge/)),Ve?"edge":"chrome")))),_e)]||t.chrome}const[t,e]=je;return{width:t,height:e}})()))),Ie((()=>!0)),Pe((t=>(e,n,o)=>(!n&&e&&o((()=>t.crop=R(t.crop))),e))),Oe((({crop:t})=>[[t],([t],e)=>{t&&e(S(t.width,t.height))},(t,e)=>D(t,e)])),Te((({cropSize:t})=>[[t],([t],e)=>{t&&e(Re(H(t),5))}])),Oe((({size:t,rotation:e,cropRectAspectRatio:n,cropMinSize:o,cropMaxSize:i,cropLimitToImage:l})=>[[t,e,n,o,i,l],([t,e,n,o,i,l],r)=>{t&&r(((t,e,n,o,i,l)=>{let r=L(o),s=L(i);return l?[r,E(ze(t,e,n),Math.round)]:[r,s]})(t,e,n,o,i,l))},(t,e)=>Ge(t,e)])),Oe((({size:t,isRotatedSideways:e,cropMinSize:n,cropSize:o})=>[[t,e,n,o],([t,e,n,o],i)=>{t&&o&&i(((t,e,n,o)=>{const i=Math.max(n.width/o.width,n.height/o.height),l=S(o.width*i,o.height*i),r=(s=l,Math.sqrt(s.width*s.width+s.height*s.height));var s;if(r<Math.min(t.width,t.height))return[Ye,Ke];const a=e?t.height:t.width,c=e?t.width:t.height,d=Math.acos(l.height/r),u=d-Math.acos(c/r),p=Math.asin(a/r)-d;if(Number.isNaN(u)&&Number.isNaN(p))return[Ye,Ke];const h=Number.isNaN(u)?p:Number.isNaN(p)?u:Math.min(u,p);return[Math.max(-h,Ye),Math.min(h,Ke)]})(t,e,n,o))},(t,e)=>Ge(t,e)])),Pe((()=>t=>((t=[0,0,0,0],e=1)=>4===t.length?t:[...t,e])(t))),Ae((({size:t})=>[Ze,{context:t}])),Ie((()=>[])),Ae((({crop:t})=>[Ze,{context:t}])),Ie((()=>[]));function Ue(t,e,n,o){if("number"==typeof n){const i=o-n,l=(n-e)/(t.dt||1/60),r=(l+(t.opts.stiffness*i-t.opts.damping*l)*t.inv_mass)*t.dt;return Math.abs(r)<t.opts.precision&&Math.abs(i)<t.opts.precision?o:(t.settled=!1,n+r)}if(dt(n))return n.map(((i,l)=>Ue(t,e[l],n[l],o[l])));if("object"==typeof n){const i={};for(const l in n)i[l]=Ue(t,e[l],n[l],o[l]);return i}throw new Error(`Cannot spring ${typeof n} values`)}function Je(t,e={}){const n=De(t),{stiffness:o=.15,damping:i=.8,precision:l=.01}=e;let r,s,a,c=t,d=t,u=1,p=0,h=!1;function f(e,o={}){d=e;const i=a={};if(null==t||o.hard||m.stiffness>=1&&m.damping>=1)return h=!0,r=null,c=e,n.set(t=d),Promise.resolve();if(o.soft){const t=!0===o.soft?.5:+o.soft;p=1/(60*t),u=0}if(!s){r=null,h=!1;const e={inv_mass:void 0,opts:m,settled:!0,dt:void 0};s=function(t){let e;return 0===Wt.size&&Rt(Bt),{promise:new Promise((n=>{Wt.add(e={c:t,f:n})})),abort(){Wt.delete(e)}}}((o=>{if(null===r&&(r=o),h)return h=!1,s=null,!1;u=Math.min(u+p,1),e.inv_mass=u,e.opts=m,e.settled=!0,e.dt=60*(o-r)/1e3;const i=Ue(e,c,t,d);return r=o,c=t,n.set(t=i),e.settled&&(s=null),!e.settled}))}return new Promise((t=>{s.promise.then((()=>{i===a&&t()}))}))}const m={set:f,update:(e,n)=>f(e(d,t),n),subscribe:n.subscribe,stiffness:o,damping:i,precision:l};return m}Se(!1,(t=>{const e=window.matchMedia("(prefers-reduced-motion:reduce)");t(e.matches),e.onchange=()=>t(e.matches)}));const Qe=W(),tn=(t,e,n,o,i)=>{t.rect||(t.rect=W());const l=t.rect;_(Qe,e,n,o,i),G(l,Qe)||(j(l,Qe),t.dispatchEvent(new CustomEvent("measure",{detail:l})))},en=Math.round,nn=t=>{const e=t.getBoundingClientRect();tn(t,en(e.x),en(e.y),en(e.width),en(e.height))},on=t=>tn(t,t.offsetLeft,t.offsetTop,t.offsetWidth,t.offsetHeight),ln=[];let rn,sn=null;function an(){ln.length?(ln.forEach((t=>t.measure(t))),sn=requestAnimationFrame(an)):sn=null}var cn=(t,e={})=>{const{observePosition:n=!1,observeViewRect:o=!1,once:i=!1,disabled:l=!1}=e;if(!l)return!("ResizeObserver"in window)||n||o?(t.measure=o?nn:on,ln.push(t),sn||(sn=requestAnimationFrame(an)),t.measure(t),{destroy(){const e=ln.indexOf(t);ln.splice(e,1)}}):(rn||(rn=new ResizeObserver((t=>{t.forEach((t=>on(t.target)))}))),rn.observe(t),on(t),i&&rn.unobserve(t),{destroy(){i||rn.unobserve(t)}})};let dn=null;var un=(t,e)=>(()=>{if(null===dn)if("WebGL2RenderingContext"in window){let t;try{t=i("canvas"),dn=!!t.getContext("webgl2")}catch(t){dn=!1}t&&l(t)}else dn=!1;return dn})()?t.getContext("webgl2",e):t.getContext("webgl",e)||t.getContext("experimental-webgl",e);let pn=null;new Float32Array([0,1,0,0,1,1,1,0]);var hn=(t,e=Boolean,n=" ")=>t.filter(e).join(n);function fn(t){let e,n,o;const i=t[5].default,l=It(i,t,t[4],null);return{c(){e=Ht("svg"),l&&l.c(),Kt(e,"class",t[3]),Kt(e,"style",t[2]),Kt(e,"width",t[0]),Kt(e,"height",t[1]),Kt(e,"viewBox",n="0 0 "+t[0]+"\n    "+t[1]),Kt(e,"xmlns","http://www.w3.org/2000/svg"),Kt(e,"aria-hidden","true"),Kt(e,"focusable","false"),Kt(e,"stroke-linecap","round"),Kt(e,"stroke-linejoin","round")},m(t,n){zt(t,e,n),l&&l.m(e,null),o=!0},p(t,[r]){l&&l.p&&16&r&&Ot(l,i,t,t[4],r,null,null),(!o||8&r)&&Kt(e,"class",t[3]),(!o||4&r)&&Kt(e,"style",t[2]),(!o||1&r)&&Kt(e,"width",t[0]),(!o||2&r)&&Kt(e,"height",t[1]),(!o||3&r&&n!==(n="0 0 "+t[0]+"\n    "+t[1]))&&Kt(e,"viewBox",n)},i(t){o||(ge(l,t),o=!0)},o(t){ye(l,t),o=!1},d(t){t&&Ft(e),l&&l.d(t)}}}function mn(t,e,n){let{$$slots:o={},$$scope:i}=e,{width:l=24}=e,{height:r=24}=e,{style:s}=e,{class:a}=e;return t.$$set=t=>{"width"in t&&n(0,l=t.width),"height"in t&&n(1,r=t.height),"style"in t&&n(2,s=t.style),"class"in t&&n(3,a=t.class),"$$scope"in t&&n(4,i=t.$$scope)},[l,r,s,a,i,o]}class gn extends Me{constructor(t){super(),Ce(this,t,mn,fn,Dt,{width:0,height:1,style:2,class:3})}}var yn=(t,e)=>e===t.target||e.contains(t.target);function $n(t){let e,n;return e=new gn({props:{class:"DokaButtonIcon",$$slots:{default:[bn]},$$scope:{ctx:t}}}),{c(){we(e.$$.fragment)},m(t,o){ke(e,t,o),n=!0},p(t,n){const o={};1048578&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ge(e.$$.fragment,t),n=!0)},o(t){ye(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function bn(t){let e;return{c(){e=Ht("g")},m(n,o){zt(n,e,o),e.innerHTML=t[1]},p(t,n){2&n&&(e.innerHTML=t[1])},d(t){t&&Ft(e)}}}function xn(t){let e,n;return{c(){e=Gt("span"),n=_t(t[0]),Kt(e,"class",t[11])},m(t,o){zt(t,e,o),Nt(e,n)},p(t,o){1&o&&qt(n,t[0]),2048&o&&Kt(e,"class",t[11])},d(t){t&&Ft(e)}}}function wn(t){let e,n,o,i;const l=t[18].default,r=It(l,t,t[20],null),s=r||function(t){let e,n,o,i=t[1]&&$n(t),l=t[0]&&xn(t);return{c(){e=Gt("span"),i&&i.c(),n=jt(),l&&l.c(),Kt(e,"class",t[9])},m(t,r){zt(t,e,r),i&&i.m(e,null),Nt(e,n),l&&l.m(e,null),o=!0},p(t,r){t[1]?i?(i.p(t,r),2&r&&ge(i,1)):(i=$n(t),i.c(),ge(i,1),i.m(e,n)):i&&(fe(),ye(i,1,1,(()=>{i=null})),me()),t[0]?l?l.p(t,r):(l=xn(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),(!o||512&r)&&Kt(e,"class",t[9])},i(t){o||(ge(i),o=!0)},o(t){ye(i),o=!1},d(t){t&&Ft(e),i&&i.d(),l&&l.d()}}}(t);return{c(){e=Gt("button"),s&&s.c(),Kt(e,"type",t[4]),Kt(e,"style",t[2]),e.disabled=t[3],Kt(e,"class",t[10]),Kt(e,"title",t[0])},m(l,r){zt(l,e,r),s&&s.m(e,null),t[19](e),n=!0,o||(i=[Vt(e,"keydown",(function(){St(t[6])&&t[6].apply(this,arguments)})),Vt(e,"click",(function(){St(t[5])&&t[5].apply(this,arguments)})),At(t[7].call(null,e))],o=!0)},p(o,[i]){t=o,r?r.p&&1048576&i&&Ot(r,l,t,t[20],i,null,null):s&&s.p&&2563&i&&s.p(t,i),(!n||16&i)&&Kt(e,"type",t[4]),(!n||4&i)&&Kt(e,"style",t[2]),(!n||8&i)&&(e.disabled=t[3]),(!n||1024&i)&&Kt(e,"class",t[10]),(!n||1&i)&&Kt(e,"title",t[0])},i(t){n||(ge(s,t),n=!0)},o(t){ye(s,t),n=!1},d(n){n&&Ft(e),s&&s.d(n),t[19](null),o=!1,Lt(i)}}}function kn(t,e,n){let o,i,l,r,{$$slots:s={},$$scope:a}=e,{class:c}=e,{label:d}=e,{labelClass:u}=e,{innerClass:p}=e,{hideLabel:h=!1}=e,{icon:f}=e,{style:m}=e,{disabled:g}=e,{type:y="button"}=e,{onclick:$}=e,{onkeydown:b}=e,{action:x=(()=>{})}=e;return t.$$set=t=>{"class"in t&&n(12,c=t.class),"label"in t&&n(0,d=t.label),"labelClass"in t&&n(13,u=t.labelClass),"innerClass"in t&&n(14,p=t.innerClass),"hideLabel"in t&&n(15,h=t.hideLabel),"icon"in t&&n(1,f=t.icon),"style"in t&&n(2,m=t.style),"disabled"in t&&n(3,g=t.disabled),"type"in t&&n(4,y=t.type),"onclick"in t&&n(5,$=t.onclick),"onkeydown"in t&&n(6,b=t.onkeydown),"action"in t&&n(7,x=t.action),"$$scope"in t&&n(20,a=t.$$scope)},t.$$.update=()=>{16384&t.$$.dirty&&n(9,o=hn(["DokaButtonInner",p])),36864&t.$$.dirty&&n(10,i=hn(["DokaButton",h&&"DokaButtonIconOnly",c])),40960&t.$$.dirty&&n(11,l=hn([h?"implicit":"DokaButtonLabel",u]))},[d,f,m,g,y,$,b,x,r,o,i,l,c,u,p,h,t=>yn(t,r),()=>r,s,function(t){ne[t?"unshift":"push"]((()=>{r=t,n(8,r)}))},a]}class vn extends Me{constructor(t){super(),Ce(this,t,kn,wn,Dt,{class:12,label:0,labelClass:13,innerClass:14,hideLabel:15,icon:1,style:2,disabled:3,type:4,onclick:5,onkeydown:6,action:7,isEventTarget:16,getElement:17})}get isEventTarget(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}var Cn=(t,e={})=>{const{direction:n,shiftMultiplier:o=10,bubbles:i=!1,stopKeydownPropagation:l=!0}=e,r="horizontal"===n,s="vertical"===n,a=e=>{const{key:n}=e,a=e.shiftKey,c=/up|down/i.test(n),d=/left|right/i.test(n);if(!c&&!d)return;if(r&&d)return;if(s&&c)return;const u=a?o:1;l&&e.stopPropagation(),t.dispatchEvent(new CustomEvent("nudge",{bubbles:i,detail:m((/left/i.test(n)?-1:/right/i.test(n)?1:0)*u,(/up/i.test(n)?-1:/down/i.test(n)?1:0)*u)}))};return t.addEventListener("keydown",a),{destroy(){t.removeEventListener("keydown",a)}}},Mn=(t,e)=>(e?((t,e={},n="",o="")=>Object.keys(e).filter((t=>!r(e[t]))).reduce(((t,i)=>t.replace(new RegExp(n+i+o),e[i])),t))(t,e):t).replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase();new Set([]),new Map;[["brightness",t=>t.finetuneLabelBrightness],["contrast",t=>t.finetuneLabelContrast],["saturation",t=>t.finetuneLabelSaturation],["exposure",t=>t.finetuneLabelExposure],["temperature",t=>t.finetuneLabelTemperature],["gamma",t=>t.finetuneLabelGamma],!(()=>{if(null===pn)if(o()){const t=i("canvas");pn=!un(t,{failIfMajorPerformanceCaveat:!0}),l(t)}else pn=!1;return pn})()&&["clarity",t=>t.finetuneLabelClarity],["vignette",t=>t.finetuneLabelVignette]].filter(Boolean);let Ln=null;var Sn=t=>(null===Ln&&(Ln=1===(o()&&window.devicePixelRatio||1)?t=>Math.round(t):t=>t),Ln(t));const Dn=t=>({}),En=t=>({}),Pn=t=>({}),In=t=>({});function Tn(t){let e;const n=t[30].label,o=It(n,t,t[34],In);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&8&e[1]&&Ot(o,n,t,t[34],e,Pn,In)},i(t){e||(ge(o,t),e=!0)},o(t){ye(o,t),e=!1},d(t){o&&o.d(t)}}}function On(t){let e,n,o,i,l;const r=t[30].details,s=It(r,t,t[34],En);return{c(){e=Gt("div"),s&&s.c(),Kt(e,"class",n=hn(["DokaDetailsPanel",t[1]])),Kt(e,"tabindex","-1"),Kt(e,"style",t[6])},m(n,r){zt(n,e,r),s&&s.m(e,null),t[32](e),o=!0,i||(l=[Vt(e,"keydown",t[16]),Vt(e,"measure",t[33]),At(cn.call(null,e))],i=!0)},p(t,i){s&&s.p&&8&i[1]&&Ot(s,r,t,t[34],i,Dn,En),(!o||2&i[0]&&n!==(n=hn(["DokaDetailsPanel",t[1]])))&&Kt(e,"class",n),(!o||64&i[0])&&Kt(e,"style",t[6])},i(t){o||(ge(s,t),o=!0)},o(t){ye(s,t),o=!1},d(n){n&&Ft(e),s&&s.d(n),t[32](null),i=!1,Lt(l)}}}function An(t){let e,n,o,i,l,r,s,a,c={class:hn(["DokaDetailsButton",t[0]]),onkeydown:t[15],onclick:t[14],$$slots:{default:[Tn]},$$scope:{ctx:t}};n=new vn({props:c}),t[31](n);let d=t[5]&&On(t);return{c(){e=jt(),we(n.$$.fragment),o=jt(),d&&d.c(),i=jt(),l=Xt()},m(c,u){zt(c,e,u),ke(n,c,u),zt(c,o,u),d&&d.m(c,u),zt(c,i,u),zt(c,l,u),r=!0,s||(a=[Vt(document.body,"pointerdown",(function(){St(t[7])&&t[7].apply(this,arguments)})),Vt(document.body,"pointerup",(function(){St(t[8])&&t[8].apply(this,arguments)}))],s=!0)},p(e,o){t=e;const l={};1&o[0]&&(l.class=hn(["DokaDetailsButton",t[0]])),8&o[1]&&(l.$$scope={dirty:o,ctx:t}),n.$set(l),t[5]?d?(d.p(t,o),32&o[0]&&ge(d,1)):(d=On(t),d.c(),ge(d,1),d.m(i.parentNode,i)):d&&(fe(),ye(d,1,1,(()=>{d=null})),me())},i(t){r||(ge(n.$$.fragment,t),ge(d),ge(!1),r=!0)},o(t){ye(n.$$.fragment,t),ye(d),ye(!1),r=!1},d(r){r&&Ft(e),t[31](null),ve(n,r),r&&Ft(o),d&&d.d(r),r&&Ft(i),r&&Ft(l),s=!1,Lt(a)}}}function Rn(t,e,n){let o,i,l,r,s,a,c,d,u,p,h,g,{$$slots:y={},$$scope:$}=e,{buttonClass:b}=e,{panelClass:w}=e,{isActive:k=!1}=e,{onshow:v=(({panel:t})=>t.focus())}=e;const C=te("rootPortal");Pt(t,C,(t=>n(29,g=t)));const L=te("rootRect");let S,D,E;Pt(t,L,(t=>n(23,d=t)));let P=f(),I=Je(0);Pt(t,I,(t=>n(25,p=t)));const T=De({x:0,y:0});Pt(t,T,(t=>n(24,u=t)));const O=Je(-5);Pt(t,O,(t=>n(28,h=t)));const A=t=>yn(t,g)||D.isEventTarget(t);let R,W,B=!1;return function(t){Jt().$$.on_destroy.push(t)}((()=>{g&&R&&g.removeChild(R)})),t.$$set=t=>{"buttonClass"in t&&n(0,b=t.buttonClass),"panelClass"in t&&n(1,w=t.panelClass),"isActive"in t&&n(17,k=t.isActive),"onshow"in t&&n(18,v=t.onshow),"$$scope"in t&&n(34,$=t.$$scope)},t.$$.update=()=>{if(8&t.$$.dirty[0]&&(o=D&&D.getElement()),2228224&t.$$.dirty[0]&&n(8,c=k?t=>{B&&(n(21,B=!1),A(t)||n(17,k=!1))}:void 0),131072&t.$$.dirty[0]&&I.set(k?1:0),131072&t.$$.dirty[0]&&O.set(k?0:-5),8912900&t.$$.dirty[0]&&d&&S&&E){let t=E.x-d.x+.5*E.width-.5*S.width,e=E.y-d.y+E.height;const o=12,i=12,l=d.width-12,r=d.height-12,s=t,a=e,c=s+S.width,p=a+S.height;s<o&&(t=o),c>l&&(t=l-S.width),p>r?(n(20,P.y=-1,P),e-=i<e-S.height-E.height?S.height+E.height:p-r):n(20,P.y=1,P),function(t,e,n=e){t.set(n)}(T,u=x(m(t,e),Sn),u)}33554432&t.$$.dirty[0]&&n(5,i=p>0),33554432&t.$$.dirty[0]&&n(26,l=p<1),286261248&t.$$.dirty[0]&&n(27,r=`translateX(${u.x+12*P.x}px) translateY(${u.y+12*P.y+P.y*h}px)`),234881024&t.$$.dirty[0]&&n(6,s=l?`opacity: ${p}; pointer-events: ${p<1?"none":"all"}; transform: ${r};`:"transform: "+r),131072&t.$$.dirty[0]&&n(7,a=k?t=>{A(t)||n(21,B=!0)}:void 0),536870960&t.$$.dirty[0]&&i&&g&&R&&R.parentNode!==g&&g.appendChild(R),131072&t.$$.dirty[0]&&(k||n(22,W=void 0)),4456496&t.$$.dirty[0]&&i&&R&&v({e:W,panel:R})},[b,w,S,D,R,i,s,a,c,C,L,I,T,O,t=>{k||n(19,E=o.getBoundingClientRect()),n(22,W=t),n(17,k=!k)},t=>{/down/i.test(t.key)&&(n(17,k=!0),n(22,W=t))},t=>{/esc/i.test(t.key)&&(n(17,k=!1),o.focus())},k,v,E,P,B,W,d,u,p,l,r,h,g,y,function(t){ne[t?"unshift":"push"]((()=>{D=t,n(3,D)}))},function(t){ne[t?"unshift":"push"]((()=>{R=t,n(4,R)}))},t=>n(2,S=(t=>M(t.width,t.height))(t.detail)),$]}class Wn extends Me{constructor(t){super(),Ce(this,t,Rn,An,Dt,{buttonClass:0,panelClass:1,isActive:17,onshow:18},[-1,-1])}}function Bn(t){let e,n,o,i,l,r,s,a;const c=t[14].default,d=It(c,t,t[13],null);return{c(){e=Gt("li"),n=Gt("input"),o=jt(),i=Gt("label"),d&&d.c(),Kt(n,"type","radio"),Kt(n,"class","implicit"),Kt(n,"id",t[6]),Kt(n,"name",t[0]),n.value=t[3],n.disabled=t[5],n.checked=t[4],Kt(i,"for",t[6]),Kt(i,"title",t[2]),Kt(e,"class",l=hn(["DokaRadioGroupOption",t[1]])),Kt(e,"data-disabled",t[5]),Kt(e,"data-selected",t[4])},m(l,c){zt(l,e,c),Nt(e,n),Nt(e,o),Nt(e,i),d&&d.m(i,null),r=!0,s||(a=[Vt(n,"change",Yt(t[15])),Vt(n,"keydown",t[8]),Vt(n,"click",t[9])],s=!0)},p(t,[o]){(!r||64&o)&&Kt(n,"id",t[6]),(!r||1&o)&&Kt(n,"name",t[0]),(!r||8&o)&&(n.value=t[3]),(!r||32&o)&&(n.disabled=t[5]),(!r||16&o)&&(n.checked=t[4]),d&&d.p&&8192&o&&Ot(d,c,t,t[13],o,null,null),(!r||64&o)&&Kt(i,"for",t[6]),(!r||4&o)&&Kt(i,"title",t[2]),(!r||2&o&&l!==(l=hn(["DokaRadioGroupOption",t[1]])))&&Kt(e,"class",l),(!r||32&o)&&Kt(e,"data-disabled",t[5]),(!r||16&o)&&Kt(e,"data-selected",t[4])},i(t){r||(ge(d,t),r=!0)},o(t){ye(d,t),r=!1},d(t){t&&Ft(e),d&&d.d(t),s=!1,Lt(a)}}}function Nn(t,e,n){let o,i,{$$slots:l={},$$scope:r}=e,{name:s}=e,{class:a}=e,{label:c}=e,{id:d}=e,{value:u}=e,{checked:p}=e,{onkeydown:h}=e,{onclick:f}=e,{disabled:m=!1}=e;const g=te("keysPressed");return Pt(t,g,(t=>n(16,i=t))),t.$$set=t=>{"name"in t&&n(0,s=t.name),"class"in t&&n(1,a=t.class),"label"in t&&n(2,c=t.label),"id"in t&&n(10,d=t.id),"value"in t&&n(3,u=t.value),"checked"in t&&n(4,p=t.checked),"onkeydown"in t&&n(11,h=t.onkeydown),"onclick"in t&&n(12,f=t.onclick),"disabled"in t&&n(5,m=t.disabled),"$$scope"in t&&n(13,r=t.$$scope)},t.$$.update=()=>{1025&t.$$.dirty&&n(6,o=`${s}-${d}`)},[s,a,c,u,p,m,o,g,t=>{h(t)},t=>{i.length||f(t)},d,h,f,r,l,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)}]}class zn extends Me{constructor(t){super(),Ce(this,t,Nn,Bn,Dt,{name:0,class:1,label:2,id:10,value:3,checked:4,onkeydown:11,onclick:12,disabled:5})}}const Fn=(t,e,n)=>{let o;return dt(t)?o={id:e,value:t[0],label:t[1],...t[2]||{}}:(o=t,o.id=null!=o.id?o.id:e),n?n(o):o};var Gn=(t,e,n)=>ct(t)?t(e,n):t;const Hn=(t,e)=>t.map((([t,n,o])=>{if(dt(n))return[Gn(t,e),Hn(n,e)];{const i=[t,Gn(n,e)];if(o){let t={...o};o.icon&&(t.icon=Gn(o.icon,e)),i.push(t)}return i}}));var _n=(t,e)=>Hn(t,e);function jn(t,e,n){const o=t.slice();return o[27]=e[n],o}const Xn=t=>({option:2048&t[0]}),Vn=t=>({option:t[27]});function Yn(t,e,n){const o=t.slice();return o[27]=e[n],o}const Kn=t=>({option:2048&t[0]}),qn=t=>({option:t[27]}),Zn=t=>({option:2048&t[0]}),Un=t=>({option:t[27]});function Jn(t){let e,n,o,i,l,r=[],s=new Map,a=t[1]&&Qn(t),c=t[11];const d=t=>t[27].id;for(let e=0;e<c.length;e+=1){let n=jn(t,c,e),o=d(n);s.set(o,r[e]=po(o,n))}return{c(){e=Gt("fieldset"),a&&a.c(),n=jt(),o=Gt("ul");for(let t=0;t<r.length;t+=1)r[t].c();Kt(o,"class","DokaRadioGroupOptions"),Kt(e,"class",i=hn(["DokaRadioGroup",t[3]])),Kt(e,"data-layout",t[5]),Kt(e,"title",t[7])},m(t,i){zt(t,e,i),a&&a.m(e,null),Nt(e,n),Nt(e,o);for(let t=0;t<r.length;t+=1)r[t].m(o,null);l=!0},p(t,u){t[1]?a?a.p(t,u):(a=Qn(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),8420177&u[0]&&(c=t[11],fe(),r=xe(r,u,d,1,t,c,s,o,be,po,null,jn),me()),(!l||8&u[0]&&i!==(i=hn(["DokaRadioGroup",t[3]])))&&Kt(e,"class",i),(!l||32&u[0])&&Kt(e,"data-layout",t[5]),(!l||128&u[0])&&Kt(e,"title",t[7])},i(t){if(!l){for(let t=0;t<c.length;t+=1)ge(r[t]);l=!0}},o(t){for(let t=0;t<r.length;t+=1)ye(r[t]);l=!1},d(t){t&&Ft(e),a&&a.d();for(let t=0;t<r.length;t+=1)r[t].d()}}}function Qn(t){let e,n,o;return{c(){e=Gt("legend"),n=_t(t[1]),Kt(e,"class",o=t[2]&&"implicit")},m(t,o){zt(t,e,o),Nt(e,n)},p(t,i){2&i[0]&&qt(n,t[1]),4&i[0]&&o!==(o=t[2]&&"implicit")&&Kt(e,"class",o)},d(t){t&&Ft(e)}}}function to(t){let e,n;return e=new zn({props:{name:t[4],label:t[27].label,id:t[27].id,value:t[27].value,disabled:t[27].disabled,class:t[8],checked:t[12](t[27])===t[0],onkeydown:t[13](t[27]),onclick:t[14](t[27]),$$slots:{default:[lo]},$$scope:{ctx:t}}}),{c(){we(e.$$.fragment)},m(t,o){ke(e,t,o),n=!0},p(t,n){const o={};16&n[0]&&(o.name=t[4]),2048&n[0]&&(o.label=t[27].label),2048&n[0]&&(o.id=t[27].id),2048&n[0]&&(o.value=t[27].value),2048&n[0]&&(o.disabled=t[27].disabled),256&n[0]&&(o.class=t[8]),2049&n[0]&&(o.checked=t[12](t[27])===t[0]),2048&n[0]&&(o.onkeydown=t[13](t[27])),2048&n[0]&&(o.onclick=t[14](t[27])),8390720&n[0]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ge(e.$$.fragment,t),n=!0)},o(t){ye(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function eo(t){let e,n,o,i,l,r,s=[],a=new Map;const c=t[22].group,d=It(c,t,t[23],Un),u=d||function(t){let e,n,o=t[27].label+"";return{c(){e=Gt("span"),n=_t(o),Kt(e,"class","DokaRadioGroupOptionGroupLabel")},m(t,o){zt(t,e,o),Nt(e,n)},p(t,e){2048&e[0]&&o!==(o=t[27].label+"")&&qt(n,o)},d(t){t&&Ft(e)}}}(t);let p=t[27].options;const h=t=>t[27].id;for(let e=0;e<p.length;e+=1){let n=Yn(t,p,e),o=h(n);a.set(o,s[e]=uo(o,n))}return{c(){e=Gt("li"),u&&u.c(),n=jt(),o=Gt("ul");for(let t=0;t<s.length;t+=1)s[t].c();i=jt(),Kt(o,"class","DokaRadioGroupOptions"),Kt(e,"class",l=hn(["DokaRadioGroupOptionGroup",t[9]]))},m(t,l){zt(t,e,l),u&&u.m(e,null),Nt(e,n),Nt(e,o);for(let t=0;t<s.length;t+=1)s[t].m(o,null);Nt(e,i),r=!0},p(t,n){d?d.p&&8390656&n[0]&&Ot(d,c,t,t[23],n,Zn,Un):u&&u.p&&2048&n[0]&&u.p(t,n),8419665&n[0]&&(p=t[27].options,fe(),s=xe(s,n,h,1,t,p,a,o,be,uo,null,Yn),me()),(!r||512&n[0]&&l!==(l=hn(["DokaRadioGroupOptionGroup",t[9]])))&&Kt(e,"class",l)},i(t){if(!r){ge(u,t);for(let t=0;t<p.length;t+=1)ge(s[t]);r=!0}},o(t){ye(u,t);for(let t=0;t<s.length;t+=1)ye(s[t]);r=!1},d(t){t&&Ft(e),u&&u.d(t);for(let t=0;t<s.length;t+=1)s[t].d()}}}function no(t){let e,n;return e=new gn({props:{$$slots:{default:[oo]},$$scope:{ctx:t}}}),{c(){we(e.$$.fragment)},m(t,o){ke(e,t,o),n=!0},p(t,n){const o={};8390656&n[0]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ge(e.$$.fragment,t),n=!0)},o(t){ye(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function oo(t){let e,n=t[27].icon+"";return{c(){e=Ht("g")},m(t,o){zt(t,e,o),e.innerHTML=n},p(t,o){2048&o[0]&&n!==(n=t[27].icon+"")&&(e.innerHTML=n)},d(t){t&&Ft(e)}}}function io(t){let e,n,o=t[27].label+"";return{c(){e=Gt("span"),n=_t(o),Kt(e,"class",t[6])},m(t,o){zt(t,e,o),Nt(e,n)},p(t,i){2048&i[0]&&o!==(o=t[27].label+"")&&qt(n,o),64&i[0]&&Kt(e,"class",t[6])},d(t){t&&Ft(e)}}}function lo(t){let e;const n=t[22].option,o=It(n,t,t[23],Vn),i=o||function(t){let e,n,o,i=t[27].icon&&no(t),l=!t[27].hideLabel&&io(t);return{c(){i&&i.c(),e=jt(),l&&l.c(),n=jt()},m(t,r){i&&i.m(t,r),zt(t,e,r),l&&l.m(t,r),zt(t,n,r),o=!0},p(t,o){t[27].icon?i?(i.p(t,o),2048&o[0]&&ge(i,1)):(i=no(t),i.c(),ge(i,1),i.m(e.parentNode,e)):i&&(fe(),ye(i,1,1,(()=>{i=null})),me()),t[27].hideLabel?l&&(l.d(1),l=null):l?l.p(t,o):(l=io(t),l.c(),l.m(n.parentNode,n))},i(t){o||(ge(i),o=!0)},o(t){ye(i),o=!1},d(t){i&&i.d(t),t&&Ft(e),l&&l.d(t),t&&Ft(n)}}}(t);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,e){o?o.p&&8390656&e[0]&&Ot(o,n,t,t[23],e,Xn,Vn):i&&i.p&&2112&e[0]&&i.p(t,e)},i(t){e||(ge(i,t),e=!0)},o(t){ye(i,t),e=!1},d(t){i&&i.d(t)}}}function ro(t){let e,n;return e=new gn({props:{$$slots:{default:[so]},$$scope:{ctx:t}}}),{c(){we(e.$$.fragment)},m(t,o){ke(e,t,o),n=!0},p(t,n){const o={};8390656&n[0]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ge(e.$$.fragment,t),n=!0)},o(t){ye(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function so(t){let e,n=t[27].icon+"";return{c(){e=Ht("g")},m(t,o){zt(t,e,o),e.innerHTML=n},p(t,o){2048&o[0]&&n!==(n=t[27].icon+"")&&(e.innerHTML=n)},d(t){t&&Ft(e)}}}function ao(t){let e,n,o=t[27].label+"";return{c(){e=Gt("span"),n=_t(o),Kt(e,"class",t[6])},m(t,o){zt(t,e,o),Nt(e,n)},p(t,i){2048&i[0]&&o!==(o=t[27].label+"")&&qt(n,o),64&i[0]&&Kt(e,"class",t[6])},d(t){t&&Ft(e)}}}function co(t){let e;const n=t[22].option,o=It(n,t,t[23],qn),i=o||function(t){let e,n,o,i=t[27].icon&&ro(t),l=!t[27].hideLabel&&ao(t);return{c(){i&&i.c(),e=jt(),l&&l.c(),n=jt()},m(t,r){i&&i.m(t,r),zt(t,e,r),l&&l.m(t,r),zt(t,n,r),o=!0},p(t,o){t[27].icon?i?(i.p(t,o),2048&o[0]&&ge(i,1)):(i=ro(t),i.c(),ge(i,1),i.m(e.parentNode,e)):i&&(fe(),ye(i,1,1,(()=>{i=null})),me()),t[27].hideLabel?l&&(l.d(1),l=null):l?l.p(t,o):(l=ao(t),l.c(),l.m(n.parentNode,n))},i(t){o||(ge(i),o=!0)},o(t){ye(i),o=!1},d(t){i&&i.d(t),t&&Ft(e),l&&l.d(t),t&&Ft(n)}}}(t);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,e){o?o.p&&8390656&e[0]&&Ot(o,n,t,t[23],e,Kn,qn):i&&i.p&&2112&e[0]&&i.p(t,e)},i(t){e||(ge(i,t),e=!0)},o(t){ye(i,t),e=!1},d(t){i&&i.d(t)}}}function uo(t,e){let n,o,i;return o=new zn({props:{name:e[4],label:e[27].label,id:e[27].id,value:e[27].value,disabled:e[27].disabled,class:e[8],checked:e[12](e[27])===e[0],onkeydown:e[13](e[27]),onclick:e[14](e[27]),$$slots:{default:[co]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=Xt(),we(o.$$.fragment),this.first=n},m(t,e){zt(t,n,e),ke(o,t,e),i=!0},p(t,n){e=t;const i={};16&n[0]&&(i.name=e[4]),2048&n[0]&&(i.label=e[27].label),2048&n[0]&&(i.id=e[27].id),2048&n[0]&&(i.value=e[27].value),2048&n[0]&&(i.disabled=e[27].disabled),256&n[0]&&(i.class=e[8]),2049&n[0]&&(i.checked=e[12](e[27])===e[0]),2048&n[0]&&(i.onkeydown=e[13](e[27])),2048&n[0]&&(i.onclick=e[14](e[27])),8390720&n[0]&&(i.$$scope={dirty:n,ctx:e}),o.$set(i)},i(t){i||(ge(o.$$.fragment,t),i=!0)},o(t){ye(o.$$.fragment,t),i=!1},d(t){t&&Ft(n),ve(o,t)}}}function po(t,e){let n,o,i,l,r;const s=[eo,to],a=[];function c(t,e){return t[27].options?0:1}return o=c(e),i=a[o]=s[o](e),{key:t,first:null,c(){n=Xt(),i.c(),l=Xt(),this.first=n},m(t,e){zt(t,n,e),a[o].m(t,e),zt(t,l,e),r=!0},p(t,n){let r=o;o=c(e=t),o===r?a[o].p(e,n):(fe(),ye(a[r],1,1,(()=>{a[r]=null})),me(),i=a[o],i?i.p(e,n):(i=a[o]=s[o](e),i.c()),ge(i,1),i.m(l.parentNode,l))},i(t){r||(ge(i),r=!0)},o(t){ye(i),r=!1},d(t){t&&Ft(n),a[o].d(t),t&&Ft(l)}}}function ho(t){let e,n,o,i=t[10].length&&Jn(t);return{c(){i&&i.c(),e=jt(),n=Xt()},m(t,l){i&&i.m(t,l),zt(t,e,l),zt(t,n,l),o=!0},p(t,n){t[10].length?i?(i.p(t,n),1024&n[0]&&ge(i,1)):(i=Jn(t),i.c(),ge(i,1),i.m(e.parentNode,e)):i&&(fe(),ye(i,1,1,(()=>{i=null})),me())},i(t){o||(ge(i),ge(!1),o=!0)},o(t){ye(i),ye(!1),o=!1},d(t){i&&i.d(t),t&&Ft(e),t&&Ft(n)}}}function fo(t,e,n){let o,i,l,{$$slots:r={},$$scope:s}=e;const c=Qt();let{label:d}=e,{hideLabel:u=!0}=e,{class:p}=e,{name:h="doka-radio-group-"+a()}=e,{selectedIndex:f=-1}=e,{options:m=[]}=e,{onchange:g}=e,{layout:y}=e,{optionMapper:$}=e,{optionFilter:b}=e,{value:x}=e,{optionLabelClass:w}=e,{title:k}=e,{locale:v}=e,{optionClass:C}=e,{optionGroupClass:M}=e;const L=t=>l.findIndex((e=>e.id===t.id)),S=t=>{n(0,f=L(t));const e={index:f,...t};((t,...e)=>{t&&t(...e)})(g,e),c("change",e)};return t.$$set=t=>{"label"in t&&n(1,d=t.label),"hideLabel"in t&&n(2,u=t.hideLabel),"class"in t&&n(3,p=t.class),"name"in t&&n(4,h=t.name),"selectedIndex"in t&&n(0,f=t.selectedIndex),"options"in t&&n(15,m=t.options),"onchange"in t&&n(16,g=t.onchange),"layout"in t&&n(5,y=t.layout),"optionMapper"in t&&n(17,$=t.optionMapper),"optionFilter"in t&&n(18,b=t.optionFilter),"value"in t&&n(19,x=t.value),"optionLabelClass"in t&&n(6,w=t.optionLabelClass),"title"in t&&n(7,k=t.title),"locale"in t&&n(20,v=t.locale),"optionClass"in t&&n(8,C=t.optionClass),"optionGroupClass"in t&&n(9,M=t.optionGroupClass),"$$scope"in t&&n(23,s=t.$$scope)},t.$$.update=()=>{1343488&t.$$.dirty[0]&&n(10,o=_n(b?m.filter(b):m,v)),132096&t.$$.dirty[0]&&n(11,i=((t=[],e)=>{let n=0;return t.map((t=>(n++,dt(t)?dt(t[1])?{id:n,label:t[0],options:t[1].map((t=>Fn(t,++n,e)))}:Fn(t,n,e):t.options?{id:t.id||n,label:t.label,options:t.options.map((t=>Fn(t,++n,e)))}:Fn(t,n,e))))})(o,$)),2048&t.$$.dirty[0]&&n(21,l=((t=[])=>t.reduce(((t,e)=>(dt(e)?dt(e[1]):e.options)?t.concat(dt(e)?e[1]:e.options):(t.push(e),t)),[]))(i)),2621441&t.$$.dirty[0]&&x&&f<0&&n(0,f=l.findIndex((t=>t.value===x)))},[f,d,u,p,h,y,w,k,C,M,o,i,L,t=>e=>{var n;n=e.key,/enter| /i.test(n)&&S(t)},t=>e=>{S(t)},m,g,$,b,x,v,l,r,s]}class mo extends Me{constructor(t){super(),Ce(this,t,fo,ho,Dt,{label:1,hideLabel:2,class:3,name:4,selectedIndex:0,options:15,onchange:16,layout:5,optionMapper:17,optionFilter:18,value:19,optionLabelClass:6,title:7,locale:20,optionClass:8,optionGroupClass:9},[-1,-1])}}function go(t){let e,n;return e=new gn({props:{$$slots:{default:[yo]},$$scope:{ctx:t}}}),{c(){we(e.$$.fragment)},m(t,o){ke(e,t,o),n=!0},p(t,n){const o={};134217792&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ge(e.$$.fragment,t),n=!0)},o(t){ye(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function yo(t){let e;return{c(){e=Ht("g")},m(n,o){zt(n,e,o),e.innerHTML=t[6]},p(t,n){64&n&&(e.innerHTML=t[6])},d(t){t&&Ft(e)}}}function $o(t){let e,n,o,i,l,r,s,a,c=(t[2]||t[18])+"",d=t[6]&&go(t);return{c(){e=Gt("span"),d&&d.c(),n=jt(),o=Gt("span"),i=_t(c),Kt(o,"class",l=hn(["DokaButtonLabel",t[3],t[5]&&"implicit"])),Kt(e,"slot","label"),Kt(e,"title",r=Gn(t[1],t[15])),Kt(e,"class",s=hn(["DokaButtonInner",t[4]]))},m(t,l){zt(t,e,l),d&&d.m(e,null),Nt(e,n),Nt(e,o),Nt(o,i),a=!0},p(t,u){t[6]?d?(d.p(t,u),64&u&&ge(d,1)):(d=go(t),d.c(),ge(d,1),d.m(e,n)):d&&(fe(),ye(d,1,1,(()=>{d=null})),me()),(!a||262148&u)&&c!==(c=(t[2]||t[18])+"")&&qt(i,c),(!a||40&u&&l!==(l=hn(["DokaButtonLabel",t[3],t[5]&&"implicit"])))&&Kt(o,"class",l),(!a||32770&u&&r!==(r=Gn(t[1],t[15])))&&Kt(e,"title",r),(!a||16&u&&s!==(s=hn(["DokaButtonInner",t[4]])))&&Kt(e,"class",s)},i(t){a||(ge(d),a=!0)},o(t){ye(d),a=!1},d(t){t&&Ft(e),d&&d.d()}}}function bo(t){let e,n,o=t[26].label+"";return{c(){e=Gt("span"),n=_t(o),Kt(e,"slot","group")},m(t,o){zt(t,e,o),Nt(e,n)},p(t,e){67108864&e&&o!==(o=t[26].label+"")&&qt(n,o)},d(t){t&&Ft(e)}}}function xo(t){let e,n;return e=new gn({props:{style:ct(t[13])?t[13](t[26].value):t[13],$$slots:{default:[wo]},$$scope:{ctx:t}}}),{c(){we(e.$$.fragment)},m(t,o){ke(e,t,o),n=!0},p(t,n){const o={};67117056&n&&(o.style=ct(t[13])?t[13](t[26].value):t[13]),201326592&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ge(e.$$.fragment,t),n=!0)},o(t){ye(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function wo(t){let e,n=t[26].icon+"";return{c(){e=Ht("g")},m(t,o){zt(t,e,o),e.innerHTML=n},p(t,o){67108864&o&&n!==(n=t[26].icon+"")&&(e.innerHTML=n)},d(t){t&&Ft(e)}}}function ko(t){let e,n,o,i,l,r,s,a=t[26].label+"",c=t[26].icon&&xo(t);return{c(){e=Gt("span"),c&&c.c(),n=jt(),o=Gt("span"),i=_t(a),Kt(o,"style",l=ct(t[14])?t[14](t[26].value):t[14]),Kt(o,"class",r=hn(["DokaDropdownOptionLabel",t[10]])),Kt(e,"slot","option")},m(t,l){zt(t,e,l),c&&c.m(e,null),Nt(e,n),Nt(e,o),Nt(o,i),s=!0},p(t,d){t[26].icon?c?(c.p(t,d),67108864&d&&ge(c,1)):(c=xo(t),c.c(),ge(c,1),c.m(e,n)):c&&(fe(),ye(c,1,1,(()=>{c=null})),me()),(!s||67108864&d)&&a!==(a=t[26].label+"")&&qt(i,a),(!s||67125248&d&&l!==(l=ct(t[14])?t[14](t[26].value):t[14]))&&Kt(o,"style",l),(!s||1024&d&&r!==(r=hn(["DokaDropdownOptionLabel",t[10]])))&&Kt(o,"class",r)},i(t){s||(ge(c),s=!0)},o(t){ye(c),s=!1},d(t){t&&Ft(e),c&&c.d()}}}function vo(t){let e,n,o,i,l;return n=new mo({props:{name:t[7],value:t[9],selectedIndex:t[8],optionFilter:t[11],optionMapper:t[12],optionLabelClass:hn(["DokaDropdownOptionLabel",t[10]]),optionGroupClass:"DokaDropdownOptionGroup",optionClass:"DokaDropdownOption",options:t[16],onchange:t[19],$$slots:{option:[ko,({option:t})=>({26:t}),({option:t})=>t?67108864:0],group:[bo,({option:t})=>({26:t}),({option:t})=>t?67108864:0]},$$scope:{ctx:t}}}),{c(){e=Gt("div"),we(n.$$.fragment),Kt(e,"class","DokaDropdownPanel"),Kt(e,"slot","details")},m(r,s){zt(r,e,s),ke(n,e,null),o=!0,i||(l=Vt(e,"keydown",t[21]),i=!0)},p(t,e){const o={};128&e&&(o.name=t[7]),512&e&&(o.value=t[9]),256&e&&(o.selectedIndex=t[8]),2048&e&&(o.optionFilter=t[11]),4096&e&&(o.optionMapper=t[12]),1024&e&&(o.optionLabelClass=hn(["DokaDropdownOptionLabel",t[10]])),65536&e&&(o.options=t[16]),201352192&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(ge(n.$$.fragment,t),o=!0)},o(t){ye(n.$$.fragment,t),o=!1},d(t){t&&Ft(e),ve(n),i=!1,l()}}}function Co(t){let e,n,o;function i(e){t[24](e)}let l={onshow:t[20],buttonClass:hn(["DokaDropdownButton",t[0],t[5]&&"DokaDropdownIconOnly"]),$$slots:{details:[vo],label:[$o]},$$scope:{ctx:t}};return void 0!==t[17]&&(l.isActive=t[17]),e=new Wn({props:l}),ne.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(e,"isActive",i))),{c(){we(e.$$.fragment)},m(t,n){ke(e,t,n),o=!0},p(t,[o]){const i={};33&o&&(i.buttonClass=hn(["DokaDropdownButton",t[0],t[5]&&"DokaDropdownIconOnly"])),134610942&o&&(i.$$scope={dirty:o,ctx:t}),!n&&131072&o&&(n=!0,i.isActive=t[17],function(t){ie.push(t)}((()=>n=!1))),e.$set(i)},i(t){o||(ge(e.$$.fragment,t),o=!0)},o(t){ye(e.$$.fragment,t),o=!1},d(t){ve(e,t)}}}function Mo(t,e,n){let o,i,l,{class:r}=e,{title:s}=e,{label:a}=e,{labelClass:c}=e,{innerClass:d}=e,{hideLabel:u=!1}=e,{icon:p}=e,{name:h}=e,{options:f=[]}=e,{selectedIndex:m=-1}=e,{value:g}=e,{optionLabelClass:y}=e,{optionFilter:$}=e,{optionMapper:b}=e,{optionIconStyle:x}=e,{optionLabelStyle:w}=e,{onchange:k}=e,{locale:v}=e;return t.$$set=t=>{"class"in t&&n(0,r=t.class),"title"in t&&n(1,s=t.title),"label"in t&&n(2,a=t.label),"labelClass"in t&&n(3,c=t.labelClass),"innerClass"in t&&n(4,d=t.innerClass),"hideLabel"in t&&n(5,u=t.hideLabel),"icon"in t&&n(6,p=t.icon),"name"in t&&n(7,h=t.name),"options"in t&&n(22,f=t.options),"selectedIndex"in t&&n(8,m=t.selectedIndex),"value"in t&&n(9,g=t.value),"optionLabelClass"in t&&n(10,y=t.optionLabelClass),"optionFilter"in t&&n(11,$=t.optionFilter),"optionMapper"in t&&n(12,b=t.optionMapper),"optionIconStyle"in t&&n(13,x=t.optionIconStyle),"optionLabelStyle"in t&&n(14,w=t.optionLabelStyle),"onchange"in t&&n(23,k=t.onchange),"locale"in t&&n(15,v=t.locale)},t.$$.update=()=>{4227072&t.$$.dirty&&n(16,o=_n(f,v)),66048&t.$$.dirty&&n(18,i=o.reduce(((t,e)=>{if(t)return t;const[n,o]=e;return i=n,l=g,(Array.isArray(i)&&Array.isArray(l)?Ge(i,l):i===l)?o:void 0;var i,l}),void 0)||(t=>{const e=o.find((t=>void 0===t[0]));if(e)return e[1]})())},[r,s,a,c,d,u,p,h,m,g,y,$,b,x,w,v,o,l,i,t=>{n(18,i=t.value),k(t),n(17,l=!1)},({e:t,panel:e})=>{if(t&&t.key&&/up|down/i.test(t.key))return e.querySelector("input:not([disabled])").focus();e.querySelector("fieldset").focus()},t=>{/tab/i.test(t.key)&&t.preventDefault()},f,k,function(t){l=t,n(17,l)}]}class Lo extends Me{constructor(t){super(),Ce(this,t,Mo,Co,Dt,{class:0,title:1,label:2,labelClass:3,innerClass:4,hideLabel:5,icon:6,name:7,options:22,selectedIndex:8,value:9,optionLabelClass:10,optionFilter:11,optionMapper:12,optionIconStyle:13,optionLabelStyle:14,onchange:23,locale:15})}}function So(t){let e,n,o,i,l,r,s,a,c,d,u;return{c(){e=Gt("div"),n=Gt("input"),o=jt(),i=Gt("div"),l=jt(),r=Gt("div"),s=Gt("div"),Kt(n,"type","range"),Kt(n,"id",t[4]),Kt(n,"min",t[1]),Kt(n,"max",t[2]),Kt(n,"step",t[3]),n.value=t[0],Kt(i,"class","DokaSliderTrack"),Kt(i,"style",t[5]),Kt(s,"class","DokaSliderKnob"),Kt(s,"style",t[6]),Kt(r,"class","DokaSliderKnobController"),Kt(r,"style",a=`transform: translateX(${t[9]}%)`),Kt(e,"class",c=hn(["DokaSlider",t[7]]))},m(a,c){zt(a,e,c),Nt(e,n),t[15](n),Nt(e,o),Nt(e,i),Nt(e,l),Nt(e,r),Nt(r,s),d||(u=[Vt(n,"pointerdown",t[12]),Vt(n,"input",t[10]),Vt(n,"nudge",t[11]),At(Cn.call(null,n))],d=!0)},p(t,[o]){16&o&&Kt(n,"id",t[4]),2&o&&Kt(n,"min",t[1]),4&o&&Kt(n,"max",t[2]),8&o&&Kt(n,"step",t[3]),1&o&&(n.value=t[0]),32&o&&Kt(i,"style",t[5]),64&o&&Kt(s,"style",t[6]),512&o&&a!==(a=`transform: translateX(${t[9]}%)`)&&Kt(r,"style",a),128&o&&c!==(c=hn(["DokaSlider",t[7]]))&&Kt(e,"class",c)},i:vt,o:vt,d(n){n&&Ft(e),t[15](null),d=!1,Lt(u)}}}function Do(t,e,n){let o,i,l,r,s,a,{min:c=0}=e,{max:d=100}=e,{step:u=1}=e,{id:p}=e,{value:h=0}=e,{trackStyle:f}=e,{knobStyle:m}=e,{onchange:g}=e,{class:y}=e;const $=(t,e)=>{n(0,h=Fe(c+t/e*o,c,d)),g(h)},b=t=>{const e=t.pageX-a;$(s+e,r)},x=t=>{r=void 0,document.documentElement.removeEventListener("pointermove",b),document.documentElement.removeEventListener("pointerup",x),g(h)};return t.$$set=t=>{"min"in t&&n(1,c=t.min),"max"in t&&n(2,d=t.max),"step"in t&&n(3,u=t.step),"id"in t&&n(4,p=t.id),"value"in t&&n(0,h=t.value),"trackStyle"in t&&n(5,f=t.trackStyle),"knobStyle"in t&&n(6,m=t.knobStyle),"onchange"in t&&n(13,g=t.onchange),"class"in t&&n(7,y=t.class)},t.$$.update=()=>{6&t.$$.dirty&&n(14,o=d-c),16385&t.$$.dirty&&n(9,i=h/o*100)},[h,c,d,u,p,f,m,y,l,i,t=>{r||(n(0,h=parseFloat(t.target.value)),g(h))},t=>{const e=l.offsetWidth;$(h/o*e+t.detail.x,e)},t=>{t.stopPropagation(),r=l.offsetWidth,s=t.offsetX,a=t.pageX,$(s,r),document.documentElement.addEventListener("pointermove",b),document.documentElement.addEventListener("pointerup",x)},g,o,function(t){ne[t?"unshift":"push"]((()=>{l=t,n(8,l)}))}]}class Eo extends Me{constructor(t){super(),Ce(this,t,Do,So,Dt,{min:1,max:2,step:3,id:4,value:0,trackStyle:5,knobStyle:6,onchange:13,class:7})}}var Po=(t,e,n)=>{let o,i,l;const r=Math.floor(6*t),s=6*t-r,a=n*(1-e),c=n*(1-s*e),d=n*(1-(1-s)*e);switch(r%6){case 0:o=n,i=d,l=a;break;case 1:o=c,i=n,l=a;break;case 2:o=a,i=n,l=d;break;case 3:o=a,i=c,l=n;break;case 4:o=d,i=a,l=n;break;case 5:o=n,i=a,l=c}return[o,i,l]};function Io(t){let e,n,o;return{c(){e=Gt("div"),n=Gt("span"),Kt(e,"class","DokaColorPreview"),Kt(e,"title",t[0]),Kt(e,"style",o="--color:"+t[1])},m(t,o){zt(t,e,o),Nt(e,n)},p(t,[n]){1&n&&Kt(e,"title",t[0]),2&n&&o!==(o="--color:"+t[1])&&Kt(e,"style",o)},i:vt,o:vt,d(t){t&&Ft(e)}}}function To(t,e,n){let o,{color:i}=e,{title:l}=e;return t.$$set=t=>{"color"in t&&n(2,i=t.color),"title"in t&&n(0,l=t.title)},t.$$.update=()=>{4&t.$$.dirty&&n(1,o=i?ut(i):"transparent")},[l,o,i]}class Oo extends Me{constructor(t){super(),Ce(this,t,To,Io,Dt,{color:2,title:0})}}function Ao(t){let e,n;return{c(){e=Gt("span"),n=_t(t[0])},m(t,o){zt(t,e,o),Nt(e,n)},p(t,e){1&e[0]&&qt(n,t[0])},d(t){t&&Ft(e)}}}function Ro(t){let e,n,o,i;n=new Oo({props:{color:t[4],title:Gn(t[8],t[10])}});let l=!t[9]&&Ao(t);return{c(){e=Gt("span"),we(n.$$.fragment),o=jt(),l&&l.c(),Kt(e,"slot","label"),Kt(e,"class","DokaButtonLabel")},m(t,r){zt(t,e,r),ke(n,e,null),Nt(e,o),l&&l.m(e,null),i=!0},p(t,o){const i={};16&o[0]&&(i.color=t[4]),1280&o[0]&&(i.title=Gn(t[8],t[10])),n.$set(i),t[9]?l&&(l.d(1),l=null):l?l.p(t,o):(l=Ao(t),l.c(),l.m(e,null))},i(t){i||(ge(n.$$.fragment,t),i=!0)},o(t){ye(n.$$.fragment,t),i=!1},d(t){t&&Ft(e),ve(n),l&&l.d()}}}function Wo(t){let e,n,o,i,l,r,s,a,c,d,u,p,h;c=new Eo({props:{class:"DokaHuePicker",knobStyle:"background-color:"+t[19],onchange:t[24],value:t[14],min:0,max:1,step:.001}});let f=t[11]&&Bo(t);return{c(){e=Gt("div"),n=Gt("div"),o=Gt("div"),i=Gt("div"),a=jt(),we(c.$$.fragment),d=jt(),f&&f.c(),Kt(i,"role","button"),Kt(i,"aria-label","Saturation slider"),Kt(i,"class","DokaPickerKnob"),Kt(i,"tabindex","0"),Kt(i,"style",l=`background-color:${t[18]};`),Kt(o,"class","DokaPickerKnobController"),Kt(o,"style",r=`transform:translate(${t[21]}%,${t[22]}%)`),Kt(n,"class","DokaSaturationPicker"),Kt(n,"style",s="background-color: "+t[19]),Kt(e,"class","DokaPicker")},m(l,r){zt(l,e,r),Nt(e,n),Nt(n,o),Nt(o,i),t[31](n),Nt(e,a),ke(c,e,null),Nt(e,d),f&&f.m(e,null),u=!0,p||(h=[Vt(i,"nudge",t[27]),At(Cn.call(null,i)),Vt(n,"pointerdown",t[26])],p=!0)},p(t,a){(!u||262144&a[0]&&l!==(l=`background-color:${t[18]};`))&&Kt(i,"style",l),(!u||6291456&a[0]&&r!==(r=`transform:translate(${t[21]}%,${t[22]}%)`))&&Kt(o,"style",r),(!u||524288&a[0]&&s!==(s="background-color: "+t[19]))&&Kt(n,"style",s);const d={};524288&a[0]&&(d.knobStyle="background-color:"+t[19]),16384&a[0]&&(d.value=t[14]),c.$set(d),t[11]?f?(f.p(t,a),2048&a[0]&&ge(f,1)):(f=Bo(t),f.c(),ge(f,1),f.m(e,null)):f&&(fe(),ye(f,1,1,(()=>{f=null})),me())},i(t){u||(ge(c.$$.fragment,t),ge(f),u=!0)},o(t){ye(c.$$.fragment,t),ye(f),u=!1},d(n){n&&Ft(e),t[31](null),ve(c),f&&f.d(),p=!1,Lt(h)}}}function Bo(t){let e,n;return e=new Eo({props:{class:"DokaOpacityPicker",knobStyle:"background-color: "+t[16],trackStyle:`background-image: linear-gradient(to right, ${t[17]}, ${t[18]})`,onchange:t[25],value:t[15],min:0,max:1,step:.001}}),{c(){we(e.$$.fragment)},m(t,o){ke(e,t,o),n=!0},p(t,n){const o={};65536&n[0]&&(o.knobStyle="background-color: "+t[16]),393216&n[0]&&(o.trackStyle=`background-image: linear-gradient(to right, ${t[17]}, ${t[18]})`),32768&n[0]&&(o.value=t[15]),e.$set(o)},i(t){n||(ge(e.$$.fragment,t),n=!0)},o(t){ye(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function No(t){let e,n;return e=new mo({props:{label:"Presets",class:hn(["DokaColorPresets",t[9]?"DokaColorPresetsGrid":"DokaColorPresetsList"]),hideLabel:!1,name:t[1],value:t[4],optionGroupClass:"DokaDropdownOptionGroup",optionClass:"DokaDropdownOption",options:t[2].map(t[32]),selectedIndex:t[3],optionMapper:t[7],optionLabelClass:t[6],onchange:t[33],$$slots:{option:[Go,({option:t})=>({44:t}),({option:t})=>[0,t?8192:0]],group:[zo,({option:t})=>({44:t}),({option:t})=>[0,t?8192:0]]},$$scope:{ctx:t}}}),{c(){we(e.$$.fragment)},m(t,o){ke(e,t,o),n=!0},p(t,n){const o={};512&n[0]&&(o.class=hn(["DokaColorPresets",t[9]?"DokaColorPresetsGrid":"DokaColorPresetsList"])),2&n[0]&&(o.name=t[1]),16&n[0]&&(o.value=t[4]),1028&n[0]&&(o.options=t[2].map(t[32])),8&n[0]&&(o.selectedIndex=t[3]),128&n[0]&&(o.optionMapper=t[7]),64&n[0]&&(o.optionLabelClass=t[6]),512&n[0]|24576&n[1]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ge(e.$$.fragment,t),n=!0)},o(t){ye(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function zo(t){let e,n,o=t[44].label+"";return{c(){e=Gt("span"),n=_t(o),Kt(e,"slot","group")},m(t,o){zt(t,e,o),Nt(e,n)},p(t,e){8192&e[1]&&o!==(o=t[44].label+"")&&qt(n,o)},d(t){t&&Ft(e)}}}function Fo(t){let e,n,o=t[44].label+"";return{c(){e=Gt("span"),n=_t(o),Kt(e,"class","DokaButtonLabel")},m(t,o){zt(t,e,o),Nt(e,n)},p(t,e){8192&e[1]&&o!==(o=t[44].label+"")&&qt(n,o)},d(t){t&&Ft(e)}}}function Go(t){let e,n,o,i;n=new Oo({props:{title:t[44].label,color:t[44].value}});let l=!t[9]&&Fo(t);return{c(){e=Gt("span"),we(n.$$.fragment),o=jt(),l&&l.c(),Kt(e,"slot","option")},m(t,r){zt(t,e,r),ke(n,e,null),Nt(e,o),l&&l.m(e,null),i=!0},p(t,o){const i={};8192&o[1]&&(i.title=t[44].label),8192&o[1]&&(i.color=t[44].value),n.$set(i),t[9]?l&&(l.d(1),l=null):l?l.p(t,o):(l=Fo(t),l.c(),l.m(e,null))},i(t){i||(ge(n.$$.fragment,t),i=!0)},o(t){ye(n.$$.fragment,t),i=!1},d(t){t&&Ft(e),ve(n),l&&l.d()}}}function Ho(t){let e,n,o,i=t[13]&&Wo(t),l=t[12]&&No(t);return{c(){e=Gt("div"),i&&i.c(),n=jt(),l&&l.c(),Kt(e,"slot","details"),Kt(e,"class","DokaColorPickerPanel")},m(t,r){zt(t,e,r),i&&i.m(e,null),Nt(e,n),l&&l.m(e,null),o=!0},p(t,o){t[13]?i?(i.p(t,o),8192&o[0]&&ge(i,1)):(i=Wo(t),i.c(),ge(i,1),i.m(e,n)):i&&(fe(),ye(i,1,1,(()=>{i=null})),me()),t[12]?l?(l.p(t,o),4096&o[0]&&ge(l,1)):(l=No(t),l.c(),ge(l,1),l.m(e,null)):l&&(fe(),ye(l,1,1,(()=>{l=null})),me())},i(t){o||(ge(i),ge(l),o=!0)},o(t){ye(i),ye(l),o=!1},d(t){t&&Ft(e),i&&i.d(),l&&l.d()}}}function _o(t){let e,n;return e=new Wn({props:{buttonClass:hn(["DokaColorPickerButton",t[5]]),$$slots:{details:[Ho],label:[Ro]},$$scope:{ctx:t}}}),{c(){we(e.$$.fragment)},m(t,o){ke(e,t,o),n=!0},p(t,n){const o={};32&n[0]&&(o.buttonClass=hn(["DokaColorPickerButton",t[5]])),8388575&n[0]|16384&n[1]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ge(e.$$.fragment,t),n=!0)},o(t){ye(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function jo(t,e,n){let o,i,l,r,s,a,c,d,u,p,h,{label:f}=e,{name:$}=e,{options:b=[]}=e,{selectedIndex:x=-1}=e,{value:v}=e,{buttonClass:C}=e,{optionLabelClass:M}=e,{optionMapper:L}=e,{onchange:D}=e,{title:E}=e,{hidePresetLabel:P=!0}=e,{locale:I}=e,{enableOpacity:T=!0}=e,{enablePresets:O=!0}=e,{enablePicker:A=!0}=e;const R=(t,e)=>{if(c=[t[0],t[1],t[2]],e){let e=((t,e,n)=>{let o=Math.max(t,e,n),i=o-Math.min(t,e,n),l=i&&(o==t?(e-n)/i:o==e?2+(n-t)/i:4+(t-e)/i);return[60*(l<0?l+6:l)/360,o&&i/o,o]})(...c);n(14,l=e[0]),n(29,r=e[1]),n(30,s=e[2]),n(15,a=st(t[3])?t[3]:1)}n(16,d=ut(t)),n(17,u=ut([...c,0])),n(18,p=ut([...c,1])),n(19,h=ut(Po(l,1,1)))};v&&R(v,!0);const W=()=>{const t=[...Po(l,r,s),a];R(t),D(t)},B=t=>{const e=3===t.length?[...t,1]:t;R(e,!0),D(e)},N=(t,e)=>{const o=Fe(t.x/e.width,0,1);var i;i=1-Fe(t.y/e.height,0,1),n(29,r=o),n(30,s=i),0===a&&n(15,a=1),W()};let z,F,G,H;const _=t=>{const e=k(g(t),H);N(w(y(G),e),F)},j=t=>{F=void 0,document.documentElement.removeEventListener("pointermove",_),document.documentElement.removeEventListener("pointerup",j)};return t.$$set=t=>{"label"in t&&n(0,f=t.label),"name"in t&&n(1,$=t.name),"options"in t&&n(2,b=t.options),"selectedIndex"in t&&n(3,x=t.selectedIndex),"value"in t&&n(4,v=t.value),"buttonClass"in t&&n(5,C=t.buttonClass),"optionLabelClass"in t&&n(6,M=t.optionLabelClass),"optionMapper"in t&&n(7,L=t.optionMapper),"onchange"in t&&n(28,D=t.onchange),"title"in t&&n(8,E=t.title),"hidePresetLabel"in t&&n(9,P=t.hidePresetLabel),"locale"in t&&n(10,I=t.locale),"enableOpacity"in t&&n(11,T=t.enableOpacity),"enablePresets"in t&&n(12,O=t.enablePresets),"enablePicker"in t&&n(13,A=t.enablePicker)},t.$$.update=()=>{536870912&t.$$.dirty[0]&&n(21,o=100*r),1073741824&t.$$.dirty[0]&&n(22,i=100-100*s)},[f,$,b,x,v,C,M,L,E,P,I,T,O,A,l,a,d,u,p,h,z,o,i,B,t=>{n(14,l=t),0===a&&n(15,a=1),W()},t=>{n(15,a=t),W()},t=>{t.stopPropagation(),F=S(z.offsetWidth,z.offsetHeight),G=(t=>m(t.offsetX,t.offsetY))(t),H=g(t),N(G,F),document.documentElement.addEventListener("pointermove",_),document.documentElement.addEventListener("pointerup",j)},t=>{F=S(z.offsetWidth,z.offsetHeight);const e=o/100*F.width,n=i/100*F.height;N({x:e+t.detail.x,y:n+t.detail.y},F)},D,r,s,function(t){ne[t?"unshift":"push"]((()=>{z=t,n(20,z)}))},([t,e])=>[t,ct(e)?e(I):e],t=>B(t.value)]}class Xo extends Me{constructor(t){super(),Ce(this,t,jo,_o,Dt,{label:0,name:1,options:2,selectedIndex:3,value:4,buttonClass:5,optionLabelClass:6,optionMapper:7,onchange:28,title:8,hidePresetLabel:9,locale:10,enableOpacity:11,enablePresets:12,enablePicker:13},[-1,-1])}}var Vo=t=>t.charAt(0).toUpperCase()+t.slice(1);const Yo=(t,e)=>n=>n[e?`${e}${Vo(t)}`:t],Ko=(t,e)=>n=>[t[n],Yo(n,e)],qo=[1,.2549,.2118],Zo=[1,1,1,0],Uo={path:()=>({points:[],disableErase:!1}),line:()=>({x1:0,y1:0,x2:0,y2:0,disableErase:!1}),rectangle:()=>({x:0,y:0,width:0,height:0}),ellipse:()=>({x:0,y:0,rx:0,ry:0}),text:()=>({x:0,y:0,text:"Text"})},Jo=(t,e={},n={position:"relative"})=>{if(Uo[t])return[{...Uo[t](),...e},n]},Qo=t=>({sharpie:Jo("path",{strokeWidth:"0.5%",strokeColor:[...qo]}),line:Jo("line",{strokeColor:[...qo],strokeWidth:"0.5%"}),arrow:Jo("line",{lineStart:"none",lineEnd:"arrow-solid",strokeColor:[...qo],strokeWidth:"0.5%"}),rectangle:Jo("rectangle",{strokeColor:[...Zo],backgroundColor:[...qo]}),ellipse:Jo("ellipse",{strokeColor:[...Zo],backgroundColor:[...qo]}),text:Jo("text",{color:[...qo],fontSize:"2%"}),...t}),ti=(t,e,n)=>[t,e||Yo(t,"shapeLabelTool"),{icon:Yo(t,"shapeIconTool"),...n}],ei=(t=["sharpie","eraser","line","arrow","rectangle","ellipse","text","preset"])=>t.map((t=>s(t)?ti(t):Array.isArray(t)?r(t[1])?ti(t[0],void 0,t[1]):ti(t[0],t[1],t[2]):void 0)).filter(Boolean),ni=()=>({transparent:[1,1,1,0],white:[1,1,1],silver:[.8667,.8667,.8667],gray:[.6667,.6667,.6667],black:[0,0,0],navy:[0,.1216,.2471],blue:[0,.4549,.851],aqua:[.498,.8588,1],teal:[.2235,.8,.8],olive:[.2392,.6,.4392],green:[.1804,.8,.251],yellow:[1,.8627,0],orange:[1,.5216,.1059],red:[1,.2549,.2118],maroon:[.5216,.0784,.2941],fuchsia:[.9412,.0706,.7451],purple:[.6941,.051,.7882]}),oi=()=>({extraSmall:"2%",small:"4%",mediumSmall:"8%",medium:"10%",mediumLarge:"15%",large:"20%",extraLarge:"25%"}),ii=()=>({extraSmall:"0.25%",small:"0.5%",mediumSmall:"1%",medium:"1.75%",mediumLarge:"2.5%",large:"3.5%",extraLarge:"5%"}),li=()=>["bar","arrow","arrowSolid","circle","circleSolid","square","squareSolid"],ri=()=>[["Helvetica, Arial, Verdana, 'Droid Sans', sans-serif","Sans Serif"],["'Arial Black', 'Avenir-Black', 'Arial Bold'","Black"],["'Arial Narrow', 'Futura-CondensedMedium'","Narrow"],["'Trebuchet MS'","Humanist"],["Georgia, 'Avenir-Black', 'Times New Roman', 'Droid Serif', serif","Serif"],["Palatino","Old-Style"],["'Times New Roman', 'TimesNewRomanPSMT'","Transitional"],["Menlo, Monaco, 'Lucida Console', monospace","Monospaced"],["'Courier New', monospace","Slab Serif"]],si=()=>["left","center","right"],ai=()=>[["normal","bold"],["italic","normal"],["italic","bold"]],ci=t=>Object.keys(t).map(Ko(t,"shapeTitleColor")),di=t=>Object.keys(t).map(Ko(t,"labelSize")),ui=t=>Object.keys(t).map(Ko(t,"labelSize")),pi=t=>[...t],hi=t=>t.map((t=>[t,e=>e["shapeLabelFontStyle"+t.filter((t=>"normal"!==t)).map(Vo).join("")]])),fi=t=>t.map((t=>[Mn(t),e=>e["shapeTitleLineDecoration"+Vo(t)],{icon:e=>e["shapeIconLineDecoration"+Vo(t)]}])),mi=t=>t.map((t=>[t,e=>e["shapeTitleTextAlign"+Vo(t)],{hideLabel:!0,icon:e=>e["shapeIconTextAlign"+Vo(t)]}])),gi=(t,e)=>{const{defaultKey:n,defaultOptions:o}=e||{};let i=[];return n&&(i[0]=[void 0,t=>t[n],{...o}]),[...i,...t]},yi=t=>[Lo,{title:t=>t.shapeTitleFontFamily,optionLabelStyle:t=>"font-family: "+t,options:gi(t,{defaultKey:"labelDefault"}),optionFilter:t=>{if(!o())return!0;const[e]=t;return!e||e.split(",").map((t=>t.trim())).some((t=>document.fonts.check("16px "+t)))}}],$i=t=>[Xo,{title:t=>t.shapeTitleBackgroundColor,options:gi(t)}],bi=(t,e={})=>[Xo,{title:t=>t.shapeTitleStrokeColor,options:gi(t),buttonClass:"DokaColorPickerButtonStroke",onchange:(t,n)=>{let o=n.strokeWidth;(st(o)||s(o)?parseFloat(o):0)>0||(n.strokeWidth=e&&e.defaultStrokeWidth||"0.5%")}}],xi=t=>[Lo,{title:t=>t.shapeTitleStrokeWidth,options:e=>at(e,"backgroundColor")?gi(t,{defaultKey:"shapeLabelStrokeNone"}):gi(t)}],wi=(t,e,n)=>[Lo,{title:t=>t[e],options:gi(t,{defaultKey:"labelNone",defaultOptions:{icon:'<g stroke="currentColor" stroke-linecap="round" stroke-width=".125em"><path d="M5,12 H14"/></g>'}}),optionIconStyle:n}],ki=t=>wi(t,"shapeTitleLineStart","transform: scaleX(-1)"),vi=t=>wi(t,"shapeTitleLineEnd"),Ci=t=>[Xo,{title:t=>t.shapeTitleTextColor,options:gi(t)}],Mi=t=>[Lo,{title:t=>t.shapeTitleFontStyle,optionLabelStyle:t=>t&&`font-style:${t[0]};font-weight:${t[1]}`,options:gi(t,{defaultKey:"shapeLabelFontStyleNormal"})}],Li=t=>[Lo,{title:t=>t.shapeTitleFontSize,options:gi(t,{defaultKey:"labelDefault"})}],Si=t=>[mo,{title:t=>t.shapeTitleTextAlign,options:gi(t)}],Di=(t={})=>{const{colorOptions:e=ci(ni()),strokeWidthOptions:n=ui(ii()),lineEndStyleOptions:o=fi(li()),fontFamilyOptions:i=pi(ri()),fontStyleOptions:l=hi(ai()),fontSizeOptions:r=di(oi()),textAlignOptions:s=mi(si())}=t;return{backgroundColor:e&&$i(e),strokeColor:e&&bi(e),strokeWidth:n&&xi(n),lineStart:o&&ki(o),lineEnd:o&&vi(o),color:e&&Ci(e),fontFamily:i&&yi(i),fontStyle_fontWeight:l&&Mi(l),fontSize:r&&Li(r),textAlign:s&&Si(s)}},{Top:Ei,Right:Pi,Bottom:Ii,Left:Ti,TopLeft:Oi,TopRight:Ai,BottomRight:Ri,BottomLeft:Wi}={Top:"t",Right:"r",Bottom:"b",Left:"l",TopLeft:"tl",TopRight:"tr",BottomRight:"br",BottomLeft:"bl"},{document:Bi}=$e;ei(),Qo(),Di();ei(),Qo(),Di(),ei(),Qo(),Di(),(t=>{const[e,n,o,i,l,r,s,a,c,d,u,p]=["bG9jYXRpb24=","ZG9jdW1lbnQ=","UmVnRXhw","RWxlbWVudA==","dGVzdA==","PGEgaHJlZj0iaHR0cHM6Ly9wcWluYS5ubC9kb2thLz91bmxpY2Vuc2VkIj5mb3IgdXNlIG9uIHBxaW5hLm5sIG9ubHk8L2E+","aW5zZXJ0QWRqYWNlbnRIVE1M","Y2xhc3NOYW1l","IGRva2EtaW1hZ2UtZWRpdG9yLXZhbGlkYXRlZA==","KD86WzAtOV17MSwzfVwuKXszfXxjc2JcLmFwcHxwcWluYVwubmx8bG9jYWxob3N0","YmVmb3JlZW5k","Ym9keQ=="].map(t[[(!1+"")[1],(!0+"")[0],(1+{})[2],(1+{})[3]].join("")]);new t[o](d)[l](t[e])||t[n][p][s](u,r),t[n][n+i][a]+=c})(window)})();